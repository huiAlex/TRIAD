<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="Java" filename="flatCode/WaypointExecutor.java" pos:tabs="8"><package pos:start="1:1" pos:end="1:59">package <name pos:start="1:9" pos:end="1:58"><name pos:start="1:9" pos:end="1:11">edu</name><operator pos:start="1:12" pos:end="1:12">.</operator><name pos:start="1:13" pos:end="1:14">nd</name><operator pos:start="1:15" pos:end="1:15">.</operator><name pos:start="1:16" pos:end="1:24">dronology</name><operator pos:start="1:25" pos:end="1:25">.</operator><name pos:start="1:26" pos:end="1:29">core</name><operator pos:start="1:30" pos:end="1:30">.</operator><name pos:start="1:31" pos:end="1:37">vehicle</name><operator pos:start="1:38" pos:end="1:38">.</operator><name pos:start="1:39" pos:end="1:58">manageddroneinternal</name></name>;</package>

<import pos:start="3:1" pos:end="3:48">import <name pos:start="3:8" pos:end="3:47"><name pos:start="3:8" pos:end="3:10">edu</name><operator pos:start="3:11" pos:end="3:11">.</operator><name pos:start="3:12" pos:end="3:13">nd</name><operator pos:start="3:14" pos:end="3:14">.</operator><name pos:start="3:15" pos:end="3:23">dronology</name><operator pos:start="3:24" pos:end="3:24">.</operator><name pos:start="3:25" pos:end="3:28">core</name><operator pos:start="3:29" pos:end="3:29">.</operator><name pos:start="3:30" pos:end="3:47">DronologyConstants</name></name>;</import>
<import pos:start="4:1" pos:end="4:81">import <name pos:start="4:8" pos:end="4:80"><name pos:start="4:8" pos:end="4:10">edu</name><operator pos:start="4:11" pos:end="4:11">.</operator><name pos:start="4:12" pos:end="4:13">nd</name><operator pos:start="4:14" pos:end="4:14">.</operator><name pos:start="4:15" pos:end="4:23">dronology</name><operator pos:start="4:24" pos:end="4:24">.</operator><name pos:start="4:25" pos:end="4:28">core</name><operator pos:start="4:29" pos:end="4:29">.</operator><name pos:start="4:30" pos:end="4:47">collisionavoidance</name><operator pos:start="4:48" pos:end="4:48">.</operator><name pos:start="4:49" pos:end="4:64">guidancecommands</name><operator pos:start="4:65" pos:end="4:65">.</operator><name pos:start="4:66" pos:end="4:80">WaypointCommand</name></name>;</import>
<import pos:start="5:1" pos:end="5:44">import <name pos:start="5:8" pos:end="5:43"><name pos:start="5:8" pos:end="5:10">edu</name><operator pos:start="5:11" pos:end="5:11">.</operator><name pos:start="5:12" pos:end="5:13">nd</name><operator pos:start="5:14" pos:end="5:14">.</operator><name pos:start="5:15" pos:end="5:23">dronology</name><operator pos:start="5:24" pos:end="5:24">.</operator><name pos:start="5:25" pos:end="5:28">core</name><operator pos:start="5:29" pos:end="5:29">.</operator><name pos:start="5:30" pos:end="5:36">vehicle</name><operator pos:start="5:37" pos:end="5:37">.</operator><name pos:start="5:38" pos:end="5:43">IDrone</name></name>;</import>
<import pos:start="6:1" pos:end="6:50">import <name pos:start="6:8" pos:end="6:49"><name pos:start="6:8" pos:end="6:10">edu</name><operator pos:start="6:11" pos:end="6:11">.</operator><name pos:start="6:12" pos:end="6:13">nd</name><operator pos:start="6:14" pos:end="6:14">.</operator><name pos:start="6:15" pos:end="6:23">dronology</name><operator pos:start="6:24" pos:end="6:24">.</operator><name pos:start="6:25" pos:end="6:28">core</name><operator pos:start="6:29" pos:end="6:29">.</operator><name pos:start="6:30" pos:end="6:36">vehicle</name><operator pos:start="6:37" pos:end="6:37">.</operator><name pos:start="6:38" pos:end="6:49">ManagedDrone</name></name>;</import>

<class pos:start="8:1" pos:end="59:1"><specifier pos:start="8:1" pos:end="8:6">public</specifier> class <name pos:start="8:14" pos:end="8:29">WaypointExecutor</name> <super_list pos:start="8:31" pos:end="8:56"><implements pos:start="8:31" pos:end="8:56">implements <super pos:start="8:42" pos:end="8:56"><name pos:start="8:42" pos:end="8:56">CommandExecutor</name></super></implements></super_list> <block pos:start="8:58" pos:end="59:1">{

    <enum pos:start="10:5" pos:end="14:5">enum <name pos:start="10:10" pos:end="10:31">WaypointExecutionState</name> <block pos:start="10:33" pos:end="14:5">{
        <decl pos:start="11:9" pos:end="11:16"><name pos:start="11:9" pos:end="11:16">RADIOING</name></decl>,
        <decl pos:start="12:9" pos:end="12:15"><name pos:start="12:9" pos:end="12:15">SENSING</name></decl>,
        <decl pos:start="13:9" pos:end="13:16"><name pos:start="13:9" pos:end="13:16">FINISHED</name></decl>;
    }</block></enum>

    <decl_stmt pos:start="16:5" pos:end="16:25"><decl pos:start="16:5" pos:end="16:24"><type pos:start="16:5" pos:end="16:18"><specifier pos:start="16:5" pos:end="16:11">private</specifier> <name pos:start="16:13" pos:end="16:18">IDrone</name></type> <name pos:start="16:20" pos:end="16:24">drone</name></decl>;</decl_stmt>
    <decl_stmt pos:start="17:5" pos:end="17:67"><decl pos:start="17:5" pos:end="17:66"><type pos:start="17:5" pos:end="17:26"><name pos:start="17:5" pos:end="17:26">WaypointExecutionState</name></type> <name pos:start="17:28" pos:end="17:32">state</name> <init pos:start="17:34" pos:end="17:66">= <expr pos:start="17:36" pos:end="17:66"><name pos:start="17:36" pos:end="17:66"><name pos:start="17:36" pos:end="17:57">WaypointExecutionState</name><operator pos:start="17:58" pos:end="17:58">.</operator><name pos:start="17:59" pos:end="17:66">RADIOING</name></name></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="18:5" pos:end="18:25"><decl pos:start="18:5" pos:end="18:24"><type pos:start="18:5" pos:end="18:19"><name pos:start="18:5" pos:end="18:19">WaypointCommand</name></type> <name pos:start="18:21" pos:end="18:24">data</name></decl>;</decl_stmt>

    <constructor pos:start="20:5" pos:end="23:5"><specifier pos:start="20:5" pos:end="20:10">public</specifier> <name pos:start="20:12" pos:end="20:27">WaypointExecutor</name><parameter_list pos:start="20:28" pos:end="20:63">(<parameter pos:start="20:29" pos:end="20:40"><decl pos:start="20:29" pos:end="20:40"><type pos:start="20:29" pos:end="20:40"><name pos:start="20:29" pos:end="20:34">IDrone</name></type> <name pos:start="20:36" pos:end="20:40">drone</name></decl></parameter>, <parameter pos:start="20:43" pos:end="20:62"><decl pos:start="20:43" pos:end="20:62"><type pos:start="20:43" pos:end="20:62"><name pos:start="20:43" pos:end="20:57">WaypointCommand</name></type> <name pos:start="20:59" pos:end="20:62">data</name></decl></parameter>)</parameter_list> <block pos:start="20:65" pos:end="23:5">{<block_content pos:start="21:9" pos:end="22:25">
        <expr_stmt pos:start="21:9" pos:end="21:27"><expr pos:start="21:9" pos:end="21:26"><name pos:start="21:9" pos:end="21:18"><name pos:start="21:9" pos:end="21:12">this</name><operator pos:start="21:13" pos:end="21:13">.</operator><name pos:start="21:14" pos:end="21:18">drone</name></name> <operator pos:start="21:20" pos:end="21:20">=</operator> <name pos:start="21:22" pos:end="21:26">drone</name></expr>;</expr_stmt>
        <expr_stmt pos:start="22:9" pos:end="22:25"><expr pos:start="22:9" pos:end="22:24"><name pos:start="22:9" pos:end="22:17"><name pos:start="22:9" pos:end="22:12">this</name><operator pos:start="22:13" pos:end="22:13">.</operator><name pos:start="22:14" pos:end="22:17">data</name></name> <operator pos:start="22:19" pos:end="22:19">=</operator> <name pos:start="22:21" pos:end="22:24">data</name></expr>;</expr_stmt>
    </block_content>}</block></constructor>

    <function pos:start="25:5" pos:end="41:5"><annotation pos:start="25:5" pos:end="25:13">@<name pos:start="25:6" pos:end="25:13">Override</name></annotation>
    <type pos:start="26:5" pos:end="26:15"><specifier pos:start="26:5" pos:end="26:10">public</specifier> <name pos:start="26:12" pos:end="26:15">void</name></type> <name pos:start="26:17" pos:end="26:23">process</name><parameter_list pos:start="26:24" pos:end="26:25">()</parameter_list> <block pos:start="26:27" pos:end="41:5">{<block_content pos:start="27:9" pos:end="40:9">
        <switch pos:start="27:9" pos:end="40:9">switch <condition pos:start="27:16" pos:end="27:27">(<expr pos:start="27:17" pos:end="27:26"><name pos:start="27:17" pos:end="27:26"><name pos:start="27:17" pos:end="27:20">this</name><operator pos:start="27:21" pos:end="27:21">.</operator><name pos:start="27:22" pos:end="27:26">state</name></name></expr>)</condition> <block pos:start="27:29" pos:end="40:9">{<block_content pos:start="28:13" pos:end="39:22">
            <case pos:start="28:13" pos:end="28:26">case <expr pos:start="28:18" pos:end="28:25"><name pos:start="28:18" pos:end="28:25">RADIOING</name></expr>:</case>
                <expr_stmt pos:start="29:17" pos:end="29:29"><expr pos:start="29:17" pos:end="29:28"><call pos:start="29:17" pos:end="29:28"><name pos:start="29:17" pos:end="29:26">radioDrone</name><argument_list pos:start="29:27" pos:end="29:28">()</argument_list></call></expr>;</expr_stmt>
                <break pos:start="30:17" pos:end="30:22">break;</break>

            <case pos:start="32:13" pos:end="32:25">case <expr pos:start="32:18" pos:end="32:24"><name pos:start="32:18" pos:end="32:24">SENSING</name></expr>:</case>
                <expr_stmt pos:start="33:17" pos:end="33:29"><expr pos:start="33:17" pos:end="33:28"><call pos:start="33:17" pos:end="33:28"><name pos:start="33:17" pos:end="33:26">senseDrone</name><argument_list pos:start="33:27" pos:end="33:28">()</argument_list></call></expr>;</expr_stmt>
                <break pos:start="34:17" pos:end="34:22">break;</break>

            <case pos:start="36:13" pos:end="36:26">case <expr pos:start="36:18" pos:end="36:25"><name pos:start="36:18" pos:end="36:25">FINISHED</name></expr>:</case>
            <default pos:start="37:13" pos:end="37:20">default:</default>
                <comment type="line" pos:start="38:17" pos:end="38:30">// Do nothing.</comment>
                <break pos:start="39:17" pos:end="39:22">break;</break>
        </block_content>}</block></switch>
    </block_content>}</block></function>

    <function pos:start="43:5" pos:end="46:5"><annotation pos:start="43:5" pos:end="43:13">@<name pos:start="43:6" pos:end="43:13">Override</name></annotation>
    <type pos:start="44:5" pos:end="44:18"><specifier pos:start="44:5" pos:end="44:10">public</specifier> <name pos:start="44:12" pos:end="44:18">boolean</name></type> <name pos:start="44:20" pos:end="44:29">isFinished</name><parameter_list pos:start="44:30" pos:end="44:31">()</parameter_list> <block pos:start="44:33" pos:end="46:5">{<block_content pos:start="45:9" pos:end="45:61">
        <return pos:start="45:9" pos:end="45:61">return <expr pos:start="45:16" pos:end="45:60"><name pos:start="45:16" pos:end="45:25"><name pos:start="45:16" pos:end="45:19">this</name><operator pos:start="45:20" pos:end="45:20">.</operator><name pos:start="45:21" pos:end="45:25">state</name></name> <operator pos:start="45:27" pos:end="45:28">==</operator> <name pos:start="45:30" pos:end="45:60"><name pos:start="45:30" pos:end="45:51">WaypointExecutionState</name><operator pos:start="45:52" pos:end="45:52">.</operator><name pos:start="45:53" pos:end="45:60">FINISHED</name></name></expr>;</return>
    </block_content>}</block></function>

    <function pos:start="48:5" pos:end="51:5"><type pos:start="48:5" pos:end="48:16"><specifier pos:start="48:5" pos:end="48:11">private</specifier> <name pos:start="48:13" pos:end="48:16">void</name></type> <name pos:start="48:18" pos:end="48:27">radioDrone</name><parameter_list pos:start="48:28" pos:end="48:29">()</parameter_list> <block pos:start="48:31" pos:end="51:5">{<block_content pos:start="49:9" pos:end="50:52">
        <expr_stmt pos:start="49:9" pos:end="49:70"><expr pos:start="49:9" pos:end="49:69"><call pos:start="49:9" pos:end="49:69"><name pos:start="49:9" pos:end="49:19"><name pos:start="49:9" pos:end="49:13">drone</name><operator pos:start="49:14" pos:end="49:14">.</operator><name pos:start="49:15" pos:end="49:19">flyTo</name></name><argument_list pos:start="49:20" pos:end="49:69">(<argument pos:start="49:21" pos:end="49:46"><expr pos:start="49:21" pos:end="49:46"><call pos:start="49:21" pos:end="49:46"><name pos:start="49:21" pos:end="49:44"><name pos:start="49:21" pos:end="49:24">this</name><operator pos:start="49:25" pos:end="49:25">.</operator><name pos:start="49:26" pos:end="49:29">data</name><operator pos:start="49:30" pos:end="49:30">.</operator><name pos:start="49:31" pos:end="49:44">getDestination</name></name><argument_list pos:start="49:45" pos:end="49:46">()</argument_list></call></expr></argument>, <argument pos:start="49:49" pos:end="49:68"><expr pos:start="49:49" pos:end="49:68"><call pos:start="49:49" pos:end="49:68"><name pos:start="49:49" pos:end="49:66"><name pos:start="49:49" pos:end="49:52">this</name><operator pos:start="49:53" pos:end="49:53">.</operator><name pos:start="49:54" pos:end="49:57">data</name><operator pos:start="49:58" pos:end="49:58">.</operator><name pos:start="49:59" pos:end="49:66">getSpeed</name></name><argument_list pos:start="49:67" pos:end="49:68">()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="50:9" pos:end="50:52"><expr pos:start="50:9" pos:end="50:51"><name pos:start="50:9" pos:end="50:18"><name pos:start="50:9" pos:end="50:12">this</name><operator pos:start="50:13" pos:end="50:13">.</operator><name pos:start="50:14" pos:end="50:18">state</name></name> <operator pos:start="50:20" pos:end="50:20">=</operator> <name pos:start="50:22" pos:end="50:51"><name pos:start="50:22" pos:end="50:43">WaypointExecutionState</name><operator pos:start="50:44" pos:end="50:44">.</operator><name pos:start="50:45" pos:end="50:51">SENSING</name></name></expr>;</expr_stmt>
    </block_content>}</block></function>

    <function pos:start="53:5" pos:end="58:5"><type pos:start="53:5" pos:end="53:16"><specifier pos:start="53:5" pos:end="53:11">private</specifier> <name pos:start="53:13" pos:end="53:16">void</name></type> <name pos:start="53:18" pos:end="53:27">senseDrone</name><parameter_list pos:start="53:28" pos:end="53:29">()</parameter_list> <block pos:start="53:31" pos:end="58:5">{<block_content pos:start="54:9" pos:end="57:9">
        <decl_stmt pos:start="54:9" pos:end="54:87"><decl pos:start="54:9" pos:end="54:86"><type pos:start="54:9" pos:end="54:14"><name pos:start="54:9" pos:end="54:14">double</name></type> <name pos:start="54:16" pos:end="54:29">targetDistance</name> <init pos:start="54:31" pos:end="54:86">= <expr pos:start="54:33" pos:end="54:86"><call pos:start="54:33" pos:end="54:54"><name pos:start="54:33" pos:end="54:52"><name pos:start="54:33" pos:end="54:37">drone</name><operator pos:start="54:38" pos:end="54:38">.</operator><name pos:start="54:39" pos:end="54:52">getCoordinates</name></name><argument_list pos:start="54:53" pos:end="54:54">()</argument_list></call><operator pos:start="54:55" pos:end="54:55">.</operator><call pos:start="54:56" pos:end="54:86"><name pos:start="54:56" pos:end="54:63">distance</name><argument_list pos:start="54:64" pos:end="54:86">(<argument pos:start="54:65" pos:end="54:85"><expr pos:start="54:65" pos:end="54:85"><call pos:start="54:65" pos:end="54:85"><name pos:start="54:65" pos:end="54:83"><name pos:start="54:65" pos:end="54:68">data</name><operator pos:start="54:69" pos:end="54:69">.</operator><name pos:start="54:70" pos:end="54:83">getDestination</name></name><argument_list pos:start="54:84" pos:end="54:85">()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <if_stmt pos:start="55:9" pos:end="57:9"><if pos:start="55:9" pos:end="57:9">if <condition pos:start="55:12" pos:end="55:76">(<expr pos:start="55:13" pos:end="55:75"><name pos:start="55:13" pos:end="55:26">targetDistance</name> <operator pos:start="55:28" pos:end="55:28">&lt;</operator> <name pos:start="55:30" pos:end="55:75"><name pos:start="55:30" pos:end="55:47">DronologyConstants</name><operator pos:start="55:48" pos:end="55:48">.</operator><name pos:start="55:49" pos:end="55:75">THRESHOLD_WAYPOINT_DISTANCE</name></name></expr>)</condition> <block pos:start="55:78" pos:end="57:9">{<block_content pos:start="56:13" pos:end="56:57">
            <expr_stmt pos:start="56:13" pos:end="56:57"><expr pos:start="56:13" pos:end="56:56"><name pos:start="56:13" pos:end="56:22"><name pos:start="56:13" pos:end="56:16">this</name><operator pos:start="56:17" pos:end="56:17">.</operator><name pos:start="56:18" pos:end="56:22">state</name></name> <operator pos:start="56:24" pos:end="56:24">=</operator> <name pos:start="56:26" pos:end="56:56"><name pos:start="56:26" pos:end="56:47">WaypointExecutionState</name><operator pos:start="56:48" pos:end="56:48">.</operator><name pos:start="56:49" pos:end="56:56">FINISHED</name></name></expr>;</expr_stmt>
        </block_content>}</block></if></if_stmt>
    </block_content>}</block></function>
}</block></class>
</unit>
