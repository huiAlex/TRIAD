<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="Java" filename="flatCode/NedExecutor.java" pos:tabs="8"><package pos:start="1:1" pos:end="1:59">package <name pos:start="1:9" pos:end="1:58"><name pos:start="1:9" pos:end="1:11">edu</name><operator pos:start="1:12" pos:end="1:12">.</operator><name pos:start="1:13" pos:end="1:14">nd</name><operator pos:start="1:15" pos:end="1:15">.</operator><name pos:start="1:16" pos:end="1:24">dronology</name><operator pos:start="1:25" pos:end="1:25">.</operator><name pos:start="1:26" pos:end="1:29">core</name><operator pos:start="1:30" pos:end="1:30">.</operator><name pos:start="1:31" pos:end="1:37">vehicle</name><operator pos:start="1:38" pos:end="1:38">.</operator><name pos:start="1:39" pos:end="1:58">manageddroneinternal</name></name>;</package>

<import pos:start="3:1" pos:end="3:76">import <name pos:start="3:8" pos:end="3:75"><name pos:start="3:8" pos:end="3:10">edu</name><operator pos:start="3:11" pos:end="3:11">.</operator><name pos:start="3:12" pos:end="3:13">nd</name><operator pos:start="3:14" pos:end="3:14">.</operator><name pos:start="3:15" pos:end="3:23">dronology</name><operator pos:start="3:24" pos:end="3:24">.</operator><name pos:start="3:25" pos:end="3:28">core</name><operator pos:start="3:29" pos:end="3:29">.</operator><name pos:start="3:30" pos:end="3:47">collisionavoidance</name><operator pos:start="3:48" pos:end="3:48">.</operator><name pos:start="3:49" pos:end="3:64">guidancecommands</name><operator pos:start="3:65" pos:end="3:65">.</operator><name pos:start="3:66" pos:end="3:75">NedCommand</name></name>;</import>
<import pos:start="4:1" pos:end="4:44">import <name pos:start="4:8" pos:end="4:43"><name pos:start="4:8" pos:end="4:10">edu</name><operator pos:start="4:11" pos:end="4:11">.</operator><name pos:start="4:12" pos:end="4:13">nd</name><operator pos:start="4:14" pos:end="4:14">.</operator><name pos:start="4:15" pos:end="4:23">dronology</name><operator pos:start="4:24" pos:end="4:24">.</operator><name pos:start="4:25" pos:end="4:28">core</name><operator pos:start="4:29" pos:end="4:29">.</operator><name pos:start="4:30" pos:end="4:36">vehicle</name><operator pos:start="4:37" pos:end="4:37">.</operator><name pos:start="4:38" pos:end="4:43">IDrone</name></name>;</import>
<import pos:start="5:1" pos:end="5:50">import <name pos:start="5:8" pos:end="5:49"><name pos:start="5:8" pos:end="5:10">edu</name><operator pos:start="5:11" pos:end="5:11">.</operator><name pos:start="5:12" pos:end="5:13">nd</name><operator pos:start="5:14" pos:end="5:14">.</operator><name pos:start="5:15" pos:end="5:23">dronology</name><operator pos:start="5:24" pos:end="5:24">.</operator><name pos:start="5:25" pos:end="5:28">core</name><operator pos:start="5:29" pos:end="5:29">.</operator><name pos:start="5:30" pos:end="5:36">vehicle</name><operator pos:start="5:37" pos:end="5:37">.</operator><name pos:start="5:38" pos:end="5:49">ManagedDrone</name></name>;</import>

<class pos:start="7:1" pos:end="60:1"><specifier pos:start="7:1" pos:end="7:6">public</specifier> class <name pos:start="7:14" pos:end="7:24">NedExecutor</name> <super_list pos:start="7:26" pos:end="7:51"><implements pos:start="7:26" pos:end="7:51">implements <super pos:start="7:37" pos:end="7:51"><name pos:start="7:37" pos:end="7:51">CommandExecutor</name></super></implements></super_list> <block pos:start="7:53" pos:end="60:1">{

    <enum pos:start="9:5" pos:end="13:5">enum <name pos:start="9:10" pos:end="9:26">NedExecutionState</name> <block pos:start="9:28" pos:end="13:5">{
        <decl pos:start="10:9" pos:end="10:16"><name pos:start="10:9" pos:end="10:16">RADIOING</name></decl>,
        <decl pos:start="11:9" pos:end="11:26"><name pos:start="11:9" pos:end="11:26">WATCHING_THE_CLOCK</name></decl>,
        <decl pos:start="12:9" pos:end="12:16"><name pos:start="12:9" pos:end="12:16">FINISHED</name></decl>;
    }</block></enum>

    <decl_stmt pos:start="15:5" pos:end="15:25"><decl pos:start="15:5" pos:end="15:24"><type pos:start="15:5" pos:end="15:18"><specifier pos:start="15:5" pos:end="15:11">private</specifier> <name pos:start="15:13" pos:end="15:18">IDrone</name></type> <name pos:start="15:20" pos:end="15:24">drone</name></decl>;</decl_stmt>
    <decl_stmt pos:start="16:5" pos:end="16:57"><decl pos:start="16:5" pos:end="16:56"><type pos:start="16:5" pos:end="16:21"><name pos:start="16:5" pos:end="16:21">NedExecutionState</name></type> <name pos:start="16:23" pos:end="16:27">state</name> <init pos:start="16:29" pos:end="16:56">= <expr pos:start="16:31" pos:end="16:56"><name pos:start="16:31" pos:end="16:56"><name pos:start="16:31" pos:end="16:47">NedExecutionState</name><operator pos:start="16:48" pos:end="16:48">.</operator><name pos:start="16:49" pos:end="16:56">RADIOING</name></name></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="17:5" pos:end="17:20"><decl pos:start="17:5" pos:end="17:19"><type pos:start="17:5" pos:end="17:14"><name pos:start="17:5" pos:end="17:14">NedCommand</name></type> <name pos:start="17:16" pos:end="17:19">data</name></decl>;</decl_stmt>
    <decl_stmt pos:start="18:5" pos:end="18:19"><decl pos:start="18:5" pos:end="18:18"><type pos:start="18:5" pos:end="18:8"><name pos:start="18:5" pos:end="18:8">long</name></type> <name pos:start="18:10" pos:end="18:18">startTime</name></decl>;</decl_stmt>

    <constructor pos:start="20:5" pos:end="23:5"><specifier pos:start="20:5" pos:end="20:10">public</specifier> <name pos:start="20:12" pos:end="20:22">NedExecutor</name><parameter_list pos:start="20:23" pos:end="20:53">(<parameter pos:start="20:24" pos:end="20:35"><decl pos:start="20:24" pos:end="20:35"><type pos:start="20:24" pos:end="20:35"><name pos:start="20:24" pos:end="20:29">IDrone</name></type> <name pos:start="20:31" pos:end="20:35">drone</name></decl></parameter>, <parameter pos:start="20:38" pos:end="20:52"><decl pos:start="20:38" pos:end="20:52"><type pos:start="20:38" pos:end="20:52"><name pos:start="20:38" pos:end="20:47">NedCommand</name></type> <name pos:start="20:49" pos:end="20:52">data</name></decl></parameter>)</parameter_list> <block pos:start="20:55" pos:end="23:5">{<block_content pos:start="21:9" pos:end="22:25">
        <expr_stmt pos:start="21:9" pos:end="21:27"><expr pos:start="21:9" pos:end="21:26"><name pos:start="21:9" pos:end="21:18"><name pos:start="21:9" pos:end="21:12">this</name><operator pos:start="21:13" pos:end="21:13">.</operator><name pos:start="21:14" pos:end="21:18">drone</name></name> <operator pos:start="21:20" pos:end="21:20">=</operator> <name pos:start="21:22" pos:end="21:26">drone</name></expr>;</expr_stmt>
        <expr_stmt pos:start="22:9" pos:end="22:25"><expr pos:start="22:9" pos:end="22:24"><name pos:start="22:9" pos:end="22:17"><name pos:start="22:9" pos:end="22:12">this</name><operator pos:start="22:13" pos:end="22:13">.</operator><name pos:start="22:14" pos:end="22:17">data</name></name> <operator pos:start="22:19" pos:end="22:19">=</operator> <name pos:start="22:21" pos:end="22:24">data</name></expr>;</expr_stmt>
    </block_content>}</block></constructor>

    <function pos:start="25:5" pos:end="39:5"><annotation pos:start="25:5" pos:end="25:13">@<name pos:start="25:6" pos:end="25:13">Override</name></annotation>
    <type pos:start="26:5" pos:end="26:15"><specifier pos:start="26:5" pos:end="26:10">public</specifier> <name pos:start="26:12" pos:end="26:15">void</name></type> <name pos:start="26:17" pos:end="26:23">process</name><parameter_list pos:start="26:24" pos:end="26:25">()</parameter_list> <block pos:start="26:27" pos:end="39:5">{<block_content pos:start="27:9" pos:end="38:9">
        <switch pos:start="27:9" pos:end="38:9">switch <condition pos:start="27:16" pos:end="27:22">(<expr pos:start="27:17" pos:end="27:21"><name pos:start="27:17" pos:end="27:21">state</name></expr>)</condition> <block pos:start="27:24" pos:end="38:9">{<block_content pos:start="28:13" pos:end="37:22">
            <case pos:start="28:13" pos:end="28:26">case <expr pos:start="28:18" pos:end="28:25"><name pos:start="28:18" pos:end="28:25">RADIOING</name></expr>:</case>
                <expr_stmt pos:start="29:17" pos:end="29:29"><expr pos:start="29:17" pos:end="29:28"><call pos:start="29:17" pos:end="29:28"><name pos:start="29:17" pos:end="29:26">radioDrone</name><argument_list pos:start="29:27" pos:end="29:28">()</argument_list></call></expr>;</expr_stmt>
                <break pos:start="30:17" pos:end="30:22">break;</break>
            <case pos:start="31:13" pos:end="31:36">case <expr pos:start="31:18" pos:end="31:35"><name pos:start="31:18" pos:end="31:35">WATCHING_THE_CLOCK</name></expr>:</case>
                <expr_stmt pos:start="32:17" pos:end="32:29"><expr pos:start="32:17" pos:end="32:28"><call pos:start="32:17" pos:end="32:28"><name pos:start="32:17" pos:end="32:26">checkClock</name><argument_list pos:start="32:27" pos:end="32:28">()</argument_list></call></expr>;</expr_stmt>
                <break pos:start="33:17" pos:end="33:22">break;</break>
            <case pos:start="34:13" pos:end="34:26">case <expr pos:start="34:18" pos:end="34:25"><name pos:start="34:18" pos:end="34:25">FINISHED</name></expr>:</case>
            <default pos:start="35:13" pos:end="35:20">default:</default>
                <comment type="line" pos:start="36:17" pos:end="36:30">// Do nothing.</comment>
                <break pos:start="37:17" pos:end="37:22">break;</break>
        </block_content>}</block></switch>
    </block_content>}</block></function>

    <function pos:start="41:5" pos:end="44:5"><annotation pos:start="41:5" pos:end="41:13">@<name pos:start="41:6" pos:end="41:13">Override</name></annotation>
    <type pos:start="42:5" pos:end="42:18"><specifier pos:start="42:5" pos:end="42:10">public</specifier> <name pos:start="42:12" pos:end="42:18">boolean</name></type> <name pos:start="42:20" pos:end="42:29">isFinished</name><parameter_list pos:start="42:30" pos:end="42:31">()</parameter_list> <block pos:start="42:33" pos:end="44:5">{<block_content pos:start="43:9" pos:end="43:51">
        <return pos:start="43:9" pos:end="43:51">return <expr pos:start="43:16" pos:end="43:50"><name pos:start="43:16" pos:end="43:20">state</name> <operator pos:start="43:22" pos:end="43:23">==</operator> <name pos:start="43:25" pos:end="43:50"><name pos:start="43:25" pos:end="43:41">NedExecutionState</name><operator pos:start="43:42" pos:end="43:42">.</operator><name pos:start="43:43" pos:end="43:50">FINISHED</name></name></expr>;</return>
    </block_content>}</block></function>

    <function pos:start="46:5" pos:end="50:5"><type pos:start="46:5" pos:end="46:16"><specifier pos:start="46:5" pos:end="46:11">private</specifier> <name pos:start="46:13" pos:end="46:16">void</name></type> <name pos:start="46:18" pos:end="46:27">radioDrone</name><parameter_list pos:start="46:28" pos:end="46:29">()</parameter_list> <block pos:start="46:31" pos:end="50:5">{<block_content pos:start="47:9" pos:end="49:53">
        <expr_stmt pos:start="47:9" pos:end="47:75"><expr pos:start="47:9" pos:end="47:74"><call pos:start="47:9" pos:end="47:74"><name pos:start="47:9" pos:end="47:25"><name pos:start="47:9" pos:end="47:13">drone</name><operator pos:start="47:14" pos:end="47:14">.</operator><name pos:start="47:15" pos:end="47:25">setVelocity</name></name><argument_list pos:start="47:26" pos:end="47:74">(<argument pos:start="47:27" pos:end="47:41"><expr pos:start="47:27" pos:end="47:41"><call pos:start="47:27" pos:end="47:41"><name pos:start="47:27" pos:end="47:39"><name pos:start="47:27" pos:end="47:30">data</name><operator pos:start="47:31" pos:end="47:31">.</operator><name pos:start="47:32" pos:end="47:39">getNorth</name></name><argument_list pos:start="47:40" pos:end="47:41">()</argument_list></call></expr></argument>, <argument pos:start="47:44" pos:end="47:57"><expr pos:start="47:44" pos:end="47:57"><call pos:start="47:44" pos:end="47:57"><name pos:start="47:44" pos:end="47:55"><name pos:start="47:44" pos:end="47:47">data</name><operator pos:start="47:48" pos:end="47:48">.</operator><name pos:start="47:49" pos:end="47:55">getEast</name></name><argument_list pos:start="47:56" pos:end="47:57">()</argument_list></call></expr></argument>, <argument pos:start="47:60" pos:end="47:73"><expr pos:start="47:60" pos:end="47:73"><call pos:start="47:60" pos:end="47:73"><name pos:start="47:60" pos:end="47:71"><name pos:start="47:60" pos:end="47:63">data</name><operator pos:start="47:64" pos:end="47:64">.</operator><name pos:start="47:65" pos:end="47:71">getDown</name></name><argument_list pos:start="47:72" pos:end="47:73">()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="48:9" pos:end="48:38"><expr pos:start="48:9" pos:end="48:37"><name pos:start="48:9" pos:end="48:17">startTime</name> <operator pos:start="48:19" pos:end="48:19">=</operator> <call pos:start="48:21" pos:end="48:37"><name pos:start="48:21" pos:end="48:35"><name pos:start="48:21" pos:end="48:26">System</name><operator pos:start="48:27" pos:end="48:27">.</operator><name pos:start="48:28" pos:end="48:35">nanoTime</name></name><argument_list pos:start="48:36" pos:end="48:37">()</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="49:9" pos:end="49:53"><expr pos:start="49:9" pos:end="49:52"><name pos:start="49:9" pos:end="49:13">state</name> <operator pos:start="49:15" pos:end="49:15">=</operator> <name pos:start="49:17" pos:end="49:52"><name pos:start="49:17" pos:end="49:33">NedExecutionState</name><operator pos:start="49:34" pos:end="49:34">.</operator><name pos:start="49:35" pos:end="49:52">WATCHING_THE_CLOCK</name></name></expr>;</expr_stmt>
    </block_content>}</block></function>

    <function pos:start="52:5" pos:end="59:5"><type pos:start="52:5" pos:end="52:16"><specifier pos:start="52:5" pos:end="52:11">private</specifier> <name pos:start="52:13" pos:end="52:16">void</name></type> <name pos:start="52:18" pos:end="52:27">checkClock</name><parameter_list pos:start="52:28" pos:end="52:29">()</parameter_list> <block pos:start="52:31" pos:end="59:5">{<block_content pos:start="53:9" pos:end="58:9">
        <decl_stmt pos:start="53:9" pos:end="53:45"><decl pos:start="53:9" pos:end="53:44"><type pos:start="53:9" pos:end="53:14"><name pos:start="53:9" pos:end="53:14">double</name></type> <name pos:start="53:16" pos:end="53:27">waitDuration</name> <init pos:start="53:29" pos:end="53:44">= <expr pos:start="53:31" pos:end="53:44"><call pos:start="53:31" pos:end="53:44"><name pos:start="53:31" pos:end="53:42"><name pos:start="53:31" pos:end="53:34">data</name><operator pos:start="53:35" pos:end="53:35">.</operator><name pos:start="53:36" pos:end="53:42">getTime</name></name><argument_list pos:start="53:43" pos:end="53:44">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt pos:start="54:9" pos:end="54:54"><decl pos:start="54:9" pos:end="54:53"><type pos:start="54:9" pos:end="54:12"><name pos:start="54:9" pos:end="54:12">long</name></type> <name pos:start="54:14" pos:end="54:22">deltaNano</name> <init pos:start="54:24" pos:end="54:53">= <expr pos:start="54:26" pos:end="54:53"><call pos:start="54:26" pos:end="54:42"><name pos:start="54:26" pos:end="54:40"><name pos:start="54:26" pos:end="54:31">System</name><operator pos:start="54:32" pos:end="54:32">.</operator><name pos:start="54:33" pos:end="54:40">nanoTime</name></name><argument_list pos:start="54:41" pos:end="54:42">()</argument_list></call><operator pos:start="54:43" pos:end="54:43">-</operator> <name pos:start="54:45" pos:end="54:53">startTime</name></expr></init></decl>;</decl_stmt>
        <decl_stmt pos:start="55:9" pos:end="55:43"><decl pos:start="55:9" pos:end="55:42"><type pos:start="55:9" pos:end="55:14"><name pos:start="55:9" pos:end="55:14">double</name></type> <name pos:start="55:16" pos:end="55:21">deltaT</name> <init pos:start="55:23" pos:end="55:42">= <expr pos:start="55:25" pos:end="55:42"><name pos:start="55:25" pos:end="55:33">deltaNano</name> <operator pos:start="55:35" pos:end="55:35">*</operator> <literal type="number" pos:start="55:37" pos:end="55:42">1.0e-9</literal></expr></init></decl>;</decl_stmt>
        <if_stmt pos:start="56:9" pos:end="58:9"><if pos:start="56:9" pos:end="58:9">if <condition pos:start="56:12" pos:end="56:34">(<expr pos:start="56:13" pos:end="56:33"><name pos:start="56:13" pos:end="56:18">deltaT</name> <operator pos:start="56:20" pos:end="56:20">&gt;</operator> <name pos:start="56:22" pos:end="56:33">waitDuration</name></expr>)</condition> <block pos:start="56:36" pos:end="58:9">{<block_content pos:start="57:13" pos:end="57:47">
            <expr_stmt pos:start="57:13" pos:end="57:47"><expr pos:start="57:13" pos:end="57:46"><name pos:start="57:13" pos:end="57:17">state</name> <operator pos:start="57:19" pos:end="57:19">=</operator> <name pos:start="57:21" pos:end="57:46"><name pos:start="57:21" pos:end="57:37">NedExecutionState</name><operator pos:start="57:38" pos:end="57:38">.</operator><name pos:start="57:39" pos:end="57:46">FINISHED</name></name></expr>;</expr_stmt>
        </block_content>}</block></if></if_stmt>
    </block_content>}</block></function>
}</block></class>
</unit>
