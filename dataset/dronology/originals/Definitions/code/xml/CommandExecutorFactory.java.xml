<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="Java" filename="flatCode/CommandExecutorFactory.java" pos:tabs="8"><package pos:start="1:1" pos:end="1:59">package <name pos:start="1:9" pos:end="1:58"><name pos:start="1:9" pos:end="1:11">edu</name><operator pos:start="1:12" pos:end="1:12">.</operator><name pos:start="1:13" pos:end="1:14">nd</name><operator pos:start="1:15" pos:end="1:15">.</operator><name pos:start="1:16" pos:end="1:24">dronology</name><operator pos:start="1:25" pos:end="1:25">.</operator><name pos:start="1:26" pos:end="1:29">core</name><operator pos:start="1:30" pos:end="1:30">.</operator><name pos:start="1:31" pos:end="1:37">vehicle</name><operator pos:start="1:38" pos:end="1:38">.</operator><name pos:start="1:39" pos:end="1:58">manageddroneinternal</name></name>;</package>

<import pos:start="3:1" pos:end="3:73">import <name pos:start="3:8" pos:end="3:72"><name pos:start="3:8" pos:end="3:10">edu</name><operator pos:start="3:11" pos:end="3:11">.</operator><name pos:start="3:12" pos:end="3:13">nd</name><operator pos:start="3:14" pos:end="3:14">.</operator><name pos:start="3:15" pos:end="3:23">dronology</name><operator pos:start="3:24" pos:end="3:24">.</operator><name pos:start="3:25" pos:end="3:28">core</name><operator pos:start="3:29" pos:end="3:29">.</operator><name pos:start="3:30" pos:end="3:47">collisionavoidance</name><operator pos:start="3:48" pos:end="3:48">.</operator><name pos:start="3:49" pos:end="3:64">guidancecommands</name><operator pos:start="3:65" pos:end="3:65">.</operator><name pos:start="3:66" pos:end="3:72">Command</name></name>;</import>
<import pos:start="4:1" pos:end="4:76">import <name pos:start="4:8" pos:end="4:75"><name pos:start="4:8" pos:end="4:10">edu</name><operator pos:start="4:11" pos:end="4:11">.</operator><name pos:start="4:12" pos:end="4:13">nd</name><operator pos:start="4:14" pos:end="4:14">.</operator><name pos:start="4:15" pos:end="4:23">dronology</name><operator pos:start="4:24" pos:end="4:24">.</operator><name pos:start="4:25" pos:end="4:28">core</name><operator pos:start="4:29" pos:end="4:29">.</operator><name pos:start="4:30" pos:end="4:47">collisionavoidance</name><operator pos:start="4:48" pos:end="4:48">.</operator><name pos:start="4:49" pos:end="4:64">guidancecommands</name><operator pos:start="4:65" pos:end="4:65">.</operator><name pos:start="4:66" pos:end="4:75">NedCommand</name></name>;</import>
<import pos:start="5:1" pos:end="5:77">import <name pos:start="5:8" pos:end="5:76"><name pos:start="5:8" pos:end="5:10">edu</name><operator pos:start="5:11" pos:end="5:11">.</operator><name pos:start="5:12" pos:end="5:13">nd</name><operator pos:start="5:14" pos:end="5:14">.</operator><name pos:start="5:15" pos:end="5:23">dronology</name><operator pos:start="5:24" pos:end="5:24">.</operator><name pos:start="5:25" pos:end="5:28">core</name><operator pos:start="5:29" pos:end="5:29">.</operator><name pos:start="5:30" pos:end="5:47">collisionavoidance</name><operator pos:start="5:48" pos:end="5:48">.</operator><name pos:start="5:49" pos:end="5:64">guidancecommands</name><operator pos:start="5:65" pos:end="5:65">.</operator><name pos:start="5:66" pos:end="5:76">StopCommand</name></name>;</import>
<import pos:start="6:1" pos:end="6:81">import <name pos:start="6:8" pos:end="6:80"><name pos:start="6:8" pos:end="6:10">edu</name><operator pos:start="6:11" pos:end="6:11">.</operator><name pos:start="6:12" pos:end="6:13">nd</name><operator pos:start="6:14" pos:end="6:14">.</operator><name pos:start="6:15" pos:end="6:23">dronology</name><operator pos:start="6:24" pos:end="6:24">.</operator><name pos:start="6:25" pos:end="6:28">core</name><operator pos:start="6:29" pos:end="6:29">.</operator><name pos:start="6:30" pos:end="6:47">collisionavoidance</name><operator pos:start="6:48" pos:end="6:48">.</operator><name pos:start="6:49" pos:end="6:64">guidancecommands</name><operator pos:start="6:65" pos:end="6:65">.</operator><name pos:start="6:66" pos:end="6:80">WaypointCommand</name></name>;</import>
<import pos:start="7:1" pos:end="7:44">import <name pos:start="7:8" pos:end="7:43"><name pos:start="7:8" pos:end="7:10">edu</name><operator pos:start="7:11" pos:end="7:11">.</operator><name pos:start="7:12" pos:end="7:13">nd</name><operator pos:start="7:14" pos:end="7:14">.</operator><name pos:start="7:15" pos:end="7:23">dronology</name><operator pos:start="7:24" pos:end="7:24">.</operator><name pos:start="7:25" pos:end="7:28">core</name><operator pos:start="7:29" pos:end="7:29">.</operator><name pos:start="7:30" pos:end="7:36">vehicle</name><operator pos:start="7:37" pos:end="7:37">.</operator><name pos:start="7:38" pos:end="7:43">IDrone</name></name>;</import>
<import pos:start="8:1" pos:end="8:50">import <name pos:start="8:8" pos:end="8:49"><name pos:start="8:8" pos:end="8:10">edu</name><operator pos:start="8:11" pos:end="8:11">.</operator><name pos:start="8:12" pos:end="8:13">nd</name><operator pos:start="8:14" pos:end="8:14">.</operator><name pos:start="8:15" pos:end="8:23">dronology</name><operator pos:start="8:24" pos:end="8:24">.</operator><name pos:start="8:25" pos:end="8:28">core</name><operator pos:start="8:29" pos:end="8:29">.</operator><name pos:start="8:30" pos:end="8:36">vehicle</name><operator pos:start="8:37" pos:end="8:37">.</operator><name pos:start="8:38" pos:end="8:49">ManagedDrone</name></name>;</import>

<comment type="block" format="javadoc" pos:start="10:1" pos:end="13:3">/**
 * Managed Drones create an instance of this factory when they are constructed. This factory takes collision avoidance
 * commands and and makes executors that are specially configured to carryout the commands.
 */</comment>
<class pos:start="14:1" pos:end="37:1"><specifier pos:start="14:1" pos:end="14:6">public</specifier> class <name pos:start="14:14" pos:end="14:35">CommandExecutorFactory</name> <block pos:start="14:37" pos:end="37:1">{
    <decl_stmt pos:start="15:5" pos:end="15:25"><decl pos:start="15:5" pos:end="15:24"><type pos:start="15:5" pos:end="15:18"><specifier pos:start="15:5" pos:end="15:11">private</specifier> <name pos:start="15:13" pos:end="15:18">IDrone</name></type> <name pos:start="15:20" pos:end="15:24">drone</name></decl>;</decl_stmt>

    <comment type="block" format="javadoc" pos:start="17:5" pos:end="20:7">/**
     * Create a factory
     * @param drone the drone that executors act upon
     */</comment>
    <constructor pos:start="21:5" pos:end="23:5"><specifier pos:start="21:5" pos:end="21:10">public</specifier> <name pos:start="21:12" pos:end="21:33">CommandExecutorFactory</name><parameter_list pos:start="21:34" pos:end="21:47">(<parameter pos:start="21:35" pos:end="21:46"><decl pos:start="21:35" pos:end="21:46"><type pos:start="21:35" pos:end="21:40"><name pos:start="21:35" pos:end="21:40">IDrone</name></type> <name pos:start="21:42" pos:end="21:46">drone</name></decl></parameter>)</parameter_list> <block pos:start="21:49" pos:end="23:5">{<block_content pos:start="22:9" pos:end="22:27">
        <expr_stmt pos:start="22:9" pos:end="22:27"><expr pos:start="22:9" pos:end="22:26"><name pos:start="22:9" pos:end="22:18"><name pos:start="22:9" pos:end="22:12">this</name><operator pos:start="22:13" pos:end="22:13">.</operator><name pos:start="22:14" pos:end="22:18">drone</name></name> <operator pos:start="22:20" pos:end="22:20">=</operator> <name pos:start="22:22" pos:end="22:26">drone</name></expr>;</expr_stmt>
    </block_content>}</block></constructor>

    <function pos:start="25:5" pos:end="36:5"><type pos:start="25:5" pos:end="25:26"><specifier pos:start="25:5" pos:end="25:10">public</specifier> <name pos:start="25:12" pos:end="25:26">CommandExecutor</name></type> <name pos:start="25:28" pos:end="25:39">makeExecutor</name><parameter_list pos:start="25:40" pos:end="25:52">(<parameter pos:start="25:41" pos:end="25:51"><decl pos:start="25:41" pos:end="25:51"><type pos:start="25:41" pos:end="25:47"><name pos:start="25:41" pos:end="25:47">Command</name></type> <name pos:start="25:49" pos:end="25:51">cmd</name></decl></parameter>)</parameter_list> <block pos:start="25:54" pos:end="36:5">{<block_content pos:start="26:9" pos:end="35:45">
        <if_stmt pos:start="26:9" pos:end="28:9"><if pos:start="26:9" pos:end="28:9">if <condition pos:start="26:12" pos:end="26:43">(<expr pos:start="26:13" pos:end="26:42"><name pos:start="26:13" pos:end="26:15">cmd</name> <operator pos:start="26:17" pos:end="26:26">instanceof</operator> <name pos:start="26:28" pos:end="26:42">WaypointCommand</name></expr>)</condition> <block pos:start="26:45" pos:end="28:9">{<block_content pos:start="27:13" pos:end="27:75">
            <return pos:start="27:13" pos:end="27:75">return <expr pos:start="27:20" pos:end="27:74"><operator pos:start="27:20" pos:end="27:22">new</operator> <call pos:start="27:24" pos:end="27:74"><name pos:start="27:24" pos:end="27:39">WaypointExecutor</name><argument_list pos:start="27:40" pos:end="27:74">(<argument pos:start="27:41" pos:end="27:50"><expr pos:start="27:41" pos:end="27:50"><name pos:start="27:41" pos:end="27:50"><name pos:start="27:41" pos:end="27:44">this</name><operator pos:start="27:45" pos:end="27:45">.</operator><name pos:start="27:46" pos:end="27:50">drone</name></name></expr></argument>, <argument pos:start="27:53" pos:end="27:73"><expr pos:start="27:53" pos:end="27:73"><operator pos:start="27:53" pos:end="27:53">(</operator><name pos:start="27:54" pos:end="27:68">WaypointCommand</name><operator pos:start="27:69" pos:end="27:69">)</operator> <name pos:start="27:71" pos:end="27:73">cmd</name></expr></argument>)</argument_list></call></expr>;</return>
        </block_content>}</block></if></if_stmt>
        <if_stmt pos:start="29:9" pos:end="31:9"><if pos:start="29:9" pos:end="31:9">if <condition pos:start="29:12" pos:end="29:39">(<expr pos:start="29:13" pos:end="29:38"><name pos:start="29:13" pos:end="29:15">cmd</name> <operator pos:start="29:17" pos:end="29:26">instanceof</operator> <name pos:start="29:28" pos:end="29:38">StopCommand</name></expr>)</condition> <block pos:start="29:41" pos:end="31:9">{<block_content pos:start="30:13" pos:end="30:67">
            <return pos:start="30:13" pos:end="30:67">return <expr pos:start="30:20" pos:end="30:66"><operator pos:start="30:20" pos:end="30:22">new</operator> <call pos:start="30:24" pos:end="30:66"><name pos:start="30:24" pos:end="30:35">StopExecutor</name><argument_list pos:start="30:36" pos:end="30:66">(<argument pos:start="30:37" pos:end="30:46"><expr pos:start="30:37" pos:end="30:46"><name pos:start="30:37" pos:end="30:46"><name pos:start="30:37" pos:end="30:40">this</name><operator pos:start="30:41" pos:end="30:41">.</operator><name pos:start="30:42" pos:end="30:46">drone</name></name></expr></argument>, <argument pos:start="30:49" pos:end="30:65"><expr pos:start="30:49" pos:end="30:65"><operator pos:start="30:49" pos:end="30:49">(</operator><name pos:start="30:50" pos:end="30:60">StopCommand</name><operator pos:start="30:61" pos:end="30:61">)</operator> <name pos:start="30:63" pos:end="30:65">cmd</name></expr></argument>)</argument_list></call></expr>;</return>
        </block_content>}</block></if></if_stmt>
        <if_stmt pos:start="32:9" pos:end="34:9"><if pos:start="32:9" pos:end="34:9">if <condition pos:start="32:12" pos:end="32:38">(<expr pos:start="32:13" pos:end="32:37"><name pos:start="32:13" pos:end="32:15">cmd</name> <operator pos:start="32:17" pos:end="32:26">instanceof</operator> <name pos:start="32:28" pos:end="32:37">NedCommand</name></expr>)</condition> <block pos:start="32:40" pos:end="34:9">{<block_content pos:start="33:13" pos:end="33:65">
            <return pos:start="33:13" pos:end="33:65">return <expr pos:start="33:20" pos:end="33:64"><operator pos:start="33:20" pos:end="33:22">new</operator> <call pos:start="33:24" pos:end="33:64"><name pos:start="33:24" pos:end="33:34">NedExecutor</name><argument_list pos:start="33:35" pos:end="33:64">(<argument pos:start="33:36" pos:end="33:45"><expr pos:start="33:36" pos:end="33:45"><name pos:start="33:36" pos:end="33:45"><name pos:start="33:36" pos:end="33:39">this</name><operator pos:start="33:40" pos:end="33:40">.</operator><name pos:start="33:41" pos:end="33:45">drone</name></name></expr></argument>, <argument pos:start="33:48" pos:end="33:63"><expr pos:start="33:48" pos:end="33:63"><operator pos:start="33:48" pos:end="33:48">(</operator><name pos:start="33:49" pos:end="33:58">NedCommand</name><operator pos:start="33:59" pos:end="33:59">)</operator> <name pos:start="33:61" pos:end="33:63">cmd</name></expr></argument>)</argument_list></call></expr>;</return>
        </block_content>}</block></if></if_stmt>
        <throw pos:start="35:9" pos:end="35:45">throw <expr pos:start="35:15" pos:end="35:44"><operator pos:start="35:15" pos:end="35:17">new</operator> <call pos:start="35:19" pos:end="35:44"><name pos:start="35:19" pos:end="35:42">IllegalArgumentException</name><argument_list pos:start="35:43" pos:end="35:44">()</argument_list></call></expr>;</throw>
    </block_content>}</block></function>
}</block></class>
</unit>
