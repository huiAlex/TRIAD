<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="Java" filename="flatCode/ManagedDroneMessenger.java" pos:tabs="8"><package pos:start="1:1" pos:end="1:59">package <name pos:start="1:9" pos:end="1:58"><name pos:start="1:9" pos:end="1:11">edu</name><operator pos:start="1:12" pos:end="1:12">.</operator><name pos:start="1:13" pos:end="1:14">nd</name><operator pos:start="1:15" pos:end="1:15">.</operator><name pos:start="1:16" pos:end="1:24">dronology</name><operator pos:start="1:25" pos:end="1:25">.</operator><name pos:start="1:26" pos:end="1:29">core</name><operator pos:start="1:30" pos:end="1:30">.</operator><name pos:start="1:31" pos:end="1:37">vehicle</name><operator pos:start="1:38" pos:end="1:38">.</operator><name pos:start="1:39" pos:end="1:58">manageddroneinternal</name></name>;</package>

<import pos:start="3:1" pos:end="3:62">import <name pos:start="3:8" pos:end="3:61"><name pos:start="3:8" pos:end="3:10">edu</name><operator pos:start="3:11" pos:end="3:11">.</operator><name pos:start="3:12" pos:end="3:13">nd</name><operator pos:start="3:14" pos:end="3:14">.</operator><name pos:start="3:15" pos:end="3:23">dronology</name><operator pos:start="3:24" pos:end="3:24">.</operator><name pos:start="3:25" pos:end="3:28">core</name><operator pos:start="3:29" pos:end="3:29">.</operator><name pos:start="3:30" pos:end="3:47">collisionavoidance</name><operator pos:start="3:48" pos:end="3:48">.</operator><name pos:start="3:49" pos:end="3:61">DroneSnapshot</name></name>;</import>
<import pos:start="4:1" pos:end="4:68">import <name pos:start="4:8" pos:end="4:67"><name pos:start="4:8" pos:end="4:10">edu</name><operator pos:start="4:11" pos:end="4:11">.</operator><name pos:start="4:12" pos:end="4:13">nd</name><operator pos:start="4:14" pos:end="4:14">.</operator><name pos:start="4:15" pos:end="4:23">dronology</name><operator pos:start="4:24" pos:end="4:24">.</operator><name pos:start="4:25" pos:end="4:28">core</name><operator pos:start="4:29" pos:end="4:29">.</operator><name pos:start="4:30" pos:end="4:47">collisionavoidance</name><operator pos:start="4:48" pos:end="4:48">.</operator><name pos:start="4:49" pos:end="4:67">DroneSnapshotOption</name></name>;</import>
<import pos:start="5:1" pos:end="5:73">import <name pos:start="5:8" pos:end="5:72"><name pos:start="5:8" pos:end="5:10">edu</name><operator pos:start="5:11" pos:end="5:11">.</operator><name pos:start="5:12" pos:end="5:13">nd</name><operator pos:start="5:14" pos:end="5:14">.</operator><name pos:start="5:15" pos:end="5:23">dronology</name><operator pos:start="5:24" pos:end="5:24">.</operator><name pos:start="5:25" pos:end="5:28">core</name><operator pos:start="5:29" pos:end="5:29">.</operator><name pos:start="5:30" pos:end="5:47">collisionavoidance</name><operator pos:start="5:48" pos:end="5:48">.</operator><name pos:start="5:49" pos:end="5:64">guidancecommands</name><operator pos:start="5:65" pos:end="5:65">.</operator><name pos:start="5:66" pos:end="5:72">Command</name></name>;</import>
<import pos:start="6:1" pos:end="6:54">import <name pos:start="6:8" pos:end="6:53"><name pos:start="6:8" pos:end="6:10">edu</name><operator pos:start="6:11" pos:end="6:11">.</operator><name pos:start="6:12" pos:end="6:13">nd</name><operator pos:start="6:14" pos:end="6:14">.</operator><name pos:start="6:15" pos:end="6:23">dronology</name><operator pos:start="6:24" pos:end="6:24">.</operator><name pos:start="6:25" pos:end="6:28">core</name><operator pos:start="6:29" pos:end="6:29">.</operator><name pos:start="6:30" pos:end="6:39">coordinate</name><operator pos:start="6:40" pos:end="6:40">.</operator><name pos:start="6:41" pos:end="6:53">LlaCoordinate</name></name>;</import>
<import pos:start="7:1" pos:end="7:52">import <name pos:start="7:8" pos:end="7:51"><name pos:start="7:8" pos:end="7:10">edu</name><operator pos:start="7:11" pos:end="7:11">.</operator><name pos:start="7:12" pos:end="7:13">nd</name><operator pos:start="7:14" pos:end="7:14">.</operator><name pos:start="7:15" pos:end="7:23">dronology</name><operator pos:start="7:24" pos:end="7:24">.</operator><name pos:start="7:25" pos:end="7:28">core</name><operator pos:start="7:29" pos:end="7:29">.</operator><name pos:start="7:30" pos:end="7:35">flight</name><operator pos:start="7:36" pos:end="7:36">.</operator><name pos:start="7:37" pos:end="7:51">IFlightDirector</name></name>;</import>
<import pos:start="8:1" pos:end="8:47">import <name pos:start="8:8" pos:end="8:46"><name pos:start="8:8" pos:end="8:10">edu</name><operator pos:start="8:11" pos:end="8:11">.</operator><name pos:start="8:12" pos:end="8:13">nd</name><operator pos:start="8:14" pos:end="8:14">.</operator><name pos:start="8:15" pos:end="8:23">dronology</name><operator pos:start="8:24" pos:end="8:24">.</operator><name pos:start="8:25" pos:end="8:28">core</name><operator pos:start="8:29" pos:end="8:29">.</operator><name pos:start="8:30" pos:end="8:33">goal</name><operator pos:start="8:34" pos:end="8:34">.</operator><name pos:start="8:35" pos:end="8:46">AbstractGoal</name></name>;</import>
<import pos:start="9:1" pos:end="9:68">import <name pos:start="9:8" pos:end="9:67"><name pos:start="9:8" pos:end="9:10">edu</name><operator pos:start="9:11" pos:end="9:11">.</operator><name pos:start="9:12" pos:end="9:13">nd</name><operator pos:start="9:14" pos:end="9:14">.</operator><name pos:start="9:15" pos:end="9:23">dronology</name><operator pos:start="9:24" pos:end="9:24">.</operator><name pos:start="9:25" pos:end="9:28">core</name><operator pos:start="9:29" pos:end="9:29">.</operator><name pos:start="9:30" pos:end="9:36">vehicle</name><operator pos:start="9:37" pos:end="9:37">.</operator><name pos:start="9:38" pos:end="9:57">manageddroneinternal</name><operator pos:start="9:58" pos:end="9:58">.</operator><name pos:start="9:59" pos:end="9:65">message</name><operator pos:start="9:66" pos:end="9:66">.</operator><name pos:start="9:67" pos:end="9:67">*</name></name>;</import>
<import pos:start="10:1" pos:end="10:30">import <name pos:start="10:8" pos:end="10:29"><name pos:start="10:8" pos:end="10:10">net</name><operator pos:start="10:11" pos:end="10:11">.</operator><name pos:start="10:12" pos:end="10:13">mv</name><operator pos:start="10:14" pos:end="10:14">.</operator><name pos:start="10:15" pos:end="10:21">logging</name><operator pos:start="10:22" pos:end="10:22">.</operator><name pos:start="10:23" pos:end="10:29">ILogger</name></name>;</import>
<import pos:start="11:1" pos:end="11:37">import <name pos:start="11:8" pos:end="11:36"><name pos:start="11:8" pos:end="11:10">net</name><operator pos:start="11:11" pos:end="11:11">.</operator><name pos:start="11:12" pos:end="11:13">mv</name><operator pos:start="11:14" pos:end="11:14">.</operator><name pos:start="11:15" pos:end="11:21">logging</name><operator pos:start="11:22" pos:end="11:22">.</operator><name pos:start="11:23" pos:end="11:36">LoggerProvider</name></name>;</import>

<import pos:start="13:1" pos:end="13:22">import <name pos:start="13:8" pos:end="13:21"><name pos:start="13:8" pos:end="13:11">java</name><operator pos:start="13:12" pos:end="13:12">.</operator><name pos:start="13:13" pos:end="13:16">util</name><operator pos:start="13:17" pos:end="13:17">.</operator><name pos:start="13:18" pos:end="13:21">List</name></name>;</import>
<import pos:start="14:1" pos:end="14:47">import <name pos:start="14:8" pos:end="14:46"><name pos:start="14:8" pos:end="14:11">java</name><operator pos:start="14:12" pos:end="14:12">.</operator><name pos:start="14:13" pos:end="14:16">util</name><operator pos:start="14:17" pos:end="14:17">.</operator><name pos:start="14:18" pos:end="14:27">concurrent</name><operator pos:start="14:28" pos:end="14:28">.</operator><name pos:start="14:29" pos:end="14:46">ArrayBlockingQueue</name></name>;</import>
<import pos:start="15:1" pos:end="15:45">import <name pos:start="15:8" pos:end="15:44"><name pos:start="15:8" pos:end="15:11">java</name><operator pos:start="15:12" pos:end="15:12">.</operator><name pos:start="15:13" pos:end="15:16">util</name><operator pos:start="15:17" pos:end="15:17">.</operator><name pos:start="15:18" pos:end="15:27">concurrent</name><operator pos:start="15:28" pos:end="15:28">.</operator><name pos:start="15:29" pos:end="15:44">SynchronousQueue</name></name>;</import>

<class pos:start="17:1" pos:end="156:1"><specifier pos:start="17:1" pos:end="17:6">public</specifier> class <name pos:start="17:14" pos:end="17:34">ManagedDroneMessenger</name> <block pos:start="17:36" pos:end="156:1">{

    <decl_stmt pos:start="19:5" pos:end="19:96"><decl pos:start="19:5" pos:end="19:95"><type pos:start="19:5" pos:end="19:32"><specifier pos:start="19:5" pos:end="19:11">private</specifier> <specifier pos:start="19:13" pos:end="19:18">static</specifier> <specifier pos:start="19:20" pos:end="19:24">final</specifier> <name pos:start="19:26" pos:end="19:32">ILogger</name></type> <name pos:start="19:34" pos:end="19:39">LOGGER</name> <init pos:start="19:41" pos:end="19:95">= <expr pos:start="19:43" pos:end="19:95"><call pos:start="19:43" pos:end="19:95"><name pos:start="19:43" pos:end="19:66"><name pos:start="19:43" pos:end="19:56">LoggerProvider</name><operator pos:start="19:57" pos:end="19:57">.</operator><name pos:start="19:58" pos:end="19:66">getLogger</name></name><argument_list pos:start="19:67" pos:end="19:95">(<argument pos:start="19:68" pos:end="19:94"><expr pos:start="19:68" pos:end="19:94"><name pos:start="19:68" pos:end="19:94"><name pos:start="19:68" pos:end="19:88">ManagedDroneMessenger</name><operator pos:start="19:89" pos:end="19:89">.</operator><name pos:start="19:90" pos:end="19:94">class</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="20:5" pos:end="20:62"><decl pos:start="20:5" pos:end="20:61"><type pos:start="20:5" pos:end="20:53"><specifier pos:start="20:5" pos:end="20:11">private</specifier> <specifier pos:start="20:13" pos:end="20:17">final</specifier> <name pos:start="20:19" pos:end="20:53"><name pos:start="20:19" pos:end="20:36">ArrayBlockingQueue</name><argument_list type="generic" pos:start="20:37" pos:end="20:53">&lt;<argument pos:start="20:38" pos:end="20:52"><name pos:start="20:38" pos:end="20:52">AbstractMessage</name></argument>&gt;</argument_list></name></type> <name pos:start="20:55" pos:end="20:61">mailbox</name></decl>;</decl_stmt>

    <constructor pos:start="22:5" pos:end="24:5"><specifier pos:start="22:5" pos:end="22:10">public</specifier> <name pos:start="22:12" pos:end="22:32">ManagedDroneMessenger</name><parameter_list pos:start="22:33" pos:end="22:77">(<parameter pos:start="22:34" pos:end="22:76"><decl pos:start="22:34" pos:end="22:76"><type pos:start="22:34" pos:end="22:68"><name pos:start="22:34" pos:end="22:68"><name pos:start="22:34" pos:end="22:51">ArrayBlockingQueue</name><argument_list type="generic" pos:start="22:52" pos:end="22:68">&lt;<argument pos:start="22:53" pos:end="22:67"><name pos:start="22:53" pos:end="22:67">AbstractMessage</name></argument>&gt;</argument_list></name></type> <name pos:start="22:70" pos:end="22:76">mailbox</name></decl></parameter>)</parameter_list> <block pos:start="22:79" pos:end="24:5">{<block_content pos:start="23:9" pos:end="23:31">
        <expr_stmt pos:start="23:9" pos:end="23:31"><expr pos:start="23:9" pos:end="23:30"><name pos:start="23:9" pos:end="23:20"><name pos:start="23:9" pos:end="23:12">this</name><operator pos:start="23:13" pos:end="23:13">.</operator><name pos:start="23:14" pos:end="23:20">mailbox</name></name> <operator pos:start="23:22" pos:end="23:22">=</operator> <name pos:start="23:24" pos:end="23:30">mailbox</name></expr>;</expr_stmt>
    </block_content>}</block></constructor>

    <function pos:start="26:5" pos:end="30:5"><type pos:start="26:5" pos:end="26:16"><specifier pos:start="26:5" pos:end="26:11">private</specifier> <name pos:start="26:13" pos:end="26:16">void</name></type> <name pos:start="26:18" pos:end="26:29">offerMessage</name><parameter_list pos:start="26:30" pos:end="26:50">(<parameter pos:start="26:31" pos:end="26:49"><decl pos:start="26:31" pos:end="26:49"><type pos:start="26:31" pos:end="26:45"><name pos:start="26:31" pos:end="26:45">AbstractMessage</name></type> <name pos:start="26:47" pos:end="26:49">msg</name></decl></parameter>)</parameter_list> <block pos:start="26:52" pos:end="30:5">{<block_content pos:start="27:9" pos:end="29:9">
        <if_stmt pos:start="27:9" pos:end="29:9"><if pos:start="27:9" pos:end="29:9">if<condition pos:start="27:11" pos:end="27:31">(<expr pos:start="27:12" pos:end="27:30"><operator pos:start="27:12" pos:end="27:12">!</operator><call pos:start="27:13" pos:end="27:30"><name pos:start="27:13" pos:end="27:25"><name pos:start="27:13" pos:end="27:19">mailbox</name><operator pos:start="27:20" pos:end="27:20">.</operator><name pos:start="27:21" pos:end="27:25">offer</name></name><argument_list pos:start="27:26" pos:end="27:30">(<argument pos:start="27:27" pos:end="27:29"><expr pos:start="27:27" pos:end="27:29"><name pos:start="27:27" pos:end="27:29">msg</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="27:33" pos:end="29:9">{<block_content pos:start="28:13" pos:end="28:67">
            <expr_stmt pos:start="28:13" pos:end="28:67"><expr pos:start="28:13" pos:end="28:66"><call pos:start="28:13" pos:end="28:66"><name pos:start="28:13" pos:end="28:23"><name pos:start="28:13" pos:end="28:18">LOGGER</name><operator pos:start="28:19" pos:end="28:19">.</operator><name pos:start="28:20" pos:end="28:23">warn</name></name><argument_list pos:start="28:24" pos:end="28:66">(<argument pos:start="28:25" pos:end="28:65"><expr pos:start="28:25" pos:end="28:65"><literal type="string" pos:start="28:25" pos:end="28:59">"Could not add message to mailbox "</literal> <operator pos:start="28:61" pos:end="28:61">+</operator> <name pos:start="28:63" pos:end="28:65">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></if></if_stmt>
    </block_content>}</block></function>

    <function pos:start="32:5" pos:end="40:5"><type pos:start="32:5" pos:end="32:17"><specifier pos:start="32:5" pos:end="32:11">private</specifier> <parameter_list type="generic" pos:start="32:13" pos:end="32:15">&lt;<parameter pos:start="32:14" pos:end="32:14"><name pos:start="32:14" pos:end="32:14">T</name></parameter>&gt;</parameter_list> <name pos:start="32:17" pos:end="32:17">T</name></type> <name pos:start="32:19" pos:end="32:31">returnService</name><parameter_list pos:start="32:32" pos:end="32:83">(<parameter pos:start="32:33" pos:end="32:51"><decl pos:start="32:33" pos:end="32:51"><type pos:start="32:33" pos:end="32:51"><name pos:start="32:33" pos:end="32:47">AbstractMessage</name></type> <name pos:start="32:49" pos:end="32:51">msg</name></decl></parameter>, <parameter pos:start="32:54" pos:end="32:82"><decl pos:start="32:54" pos:end="32:82"><type pos:start="32:54" pos:end="32:82"><name pos:start="32:54" pos:end="32:72"><name pos:start="32:54" pos:end="32:69">SynchronousQueue</name><argument_list type="generic" pos:start="32:70" pos:end="32:72">&lt;<argument pos:start="32:71" pos:end="32:71"><name pos:start="32:71" pos:end="32:71">T</name></argument>&gt;</argument_list></name></type> <name pos:start="32:74" pos:end="32:82">returnBox</name></decl></parameter>)</parameter_list> <block pos:start="32:85" pos:end="40:5">{<block_content pos:start="33:9" pos:end="39:37">
        <try pos:start="33:9" pos:end="38:9">try <block pos:start="33:13" pos:end="36:9">{<block_content pos:start="34:13" pos:end="35:36">
            <expr_stmt pos:start="34:13" pos:end="34:29"><expr pos:start="34:13" pos:end="34:28"><call pos:start="34:13" pos:end="34:28"><name pos:start="34:13" pos:end="34:23"><name pos:start="34:13" pos:end="34:19">mailbox</name><operator pos:start="34:20" pos:end="34:20">.</operator><name pos:start="34:21" pos:end="34:23">put</name></name><argument_list pos:start="34:24" pos:end="34:28">(<argument pos:start="34:25" pos:end="34:27"><expr pos:start="34:25" pos:end="34:27"><name pos:start="34:25" pos:end="34:27">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <return pos:start="35:13" pos:end="35:36">return <expr pos:start="35:20" pos:end="35:35"><call pos:start="35:20" pos:end="35:35"><name pos:start="35:20" pos:end="35:33"><name pos:start="35:20" pos:end="35:28">returnBox</name><operator pos:start="35:29" pos:end="35:29">.</operator><name pos:start="35:30" pos:end="35:33">take</name></name><argument_list pos:start="35:34" pos:end="35:35">()</argument_list></call></expr>;</return>
        </block_content>}</block> <catch pos:start="36:11" pos:end="38:9">catch <parameter_list pos:start="36:17" pos:end="36:40">(<parameter pos:start="36:18" pos:end="36:39"><decl pos:start="36:18" pos:end="36:39"><type pos:start="36:18" pos:end="36:39"><name pos:start="36:18" pos:end="36:37">InterruptedException</name></type> <name pos:start="36:39" pos:end="36:39">e</name></decl></parameter>)</parameter_list> <block pos:start="36:42" pos:end="38:9">{<block_content pos:start="37:13" pos:end="37:32">
            <expr_stmt pos:start="37:13" pos:end="37:32"><expr pos:start="37:13" pos:end="37:31"><call pos:start="37:13" pos:end="37:31"><name pos:start="37:13" pos:end="37:29"><name pos:start="37:13" pos:end="37:13">e</name><operator pos:start="37:14" pos:end="37:14">.</operator><name pos:start="37:15" pos:end="37:29">printStackTrace</name></name><argument_list pos:start="37:30" pos:end="37:31">()</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></catch></try>
        <throw pos:start="39:9" pos:end="39:37">throw <expr pos:start="39:15" pos:end="39:36"><operator pos:start="39:15" pos:end="39:17">new</operator> <call pos:start="39:19" pos:end="39:36"><name pos:start="39:19" pos:end="39:34">RuntimeException</name><argument_list pos:start="39:35" pos:end="39:36">()</argument_list></call></expr>;</throw>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="42:5" pos:end="52:7">/**
     * &lt;p&gt;
     *  Gets the current position of the drone.
     * &lt;/p&gt;
     *
     * &lt;p&gt;
     *     Note this sends a message and blocks while it waits to receive a return message from the managed drone with
     *     the coordinates. The time it takes for this method to run is indeterminate.
     * &lt;/p&gt;
     * @return
     */</comment>
    <function pos:start="53:5" pos:end="56:5"><type pos:start="53:5" pos:end="53:24"><specifier pos:start="53:5" pos:end="53:10">public</specifier> <name pos:start="53:12" pos:end="53:24">LlaCoordinate</name></type> <name pos:start="53:26" pos:end="53:39">getCoordinates</name><parameter_list pos:start="53:40" pos:end="53:41">()</parameter_list> <block pos:start="53:43" pos:end="56:5">{<block_content pos:start="54:9" pos:end="55:49">
        <decl_stmt pos:start="54:9" pos:end="54:64"><decl pos:start="54:9" pos:end="54:63"><type pos:start="54:9" pos:end="54:29"><name pos:start="54:9" pos:end="54:29">GetCoordinatesMessage</name></type> <name pos:start="54:31" pos:end="54:33">msg</name> <init pos:start="54:35" pos:end="54:63">= <expr pos:start="54:37" pos:end="54:63"><operator pos:start="54:37" pos:end="54:39">new</operator> <call pos:start="54:41" pos:end="54:63"><name pos:start="54:41" pos:end="54:61">GetCoordinatesMessage</name><argument_list pos:start="54:62" pos:end="54:63">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <return pos:start="55:9" pos:end="55:49">return <expr pos:start="55:16" pos:end="55:48"><call pos:start="55:16" pos:end="55:48"><name pos:start="55:16" pos:end="55:28">returnService</name><argument_list pos:start="55:29" pos:end="55:48">(<argument pos:start="55:30" pos:end="55:32"><expr pos:start="55:30" pos:end="55:32"><name pos:start="55:30" pos:end="55:32">msg</name></expr></argument>, <argument pos:start="55:35" pos:end="55:47"><expr pos:start="55:35" pos:end="55:47"><name pos:start="55:35" pos:end="55:47"><name pos:start="55:35" pos:end="55:37">msg</name><operator pos:start="55:38" pos:end="55:38">.</operator><name pos:start="55:39" pos:end="55:47">returnBox</name></name></expr></argument>)</argument_list></call></expr>;</return>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="58:5" pos:end="62:7">/**
     * Assigns a flight directive to the managed drone
     *
     * @param flightDirective
     */</comment>
    <function pos:start="63:5" pos:end="66:5"><type pos:start="63:5" pos:end="63:15"><specifier pos:start="63:5" pos:end="63:10">public</specifier> <name pos:start="63:12" pos:end="63:15">void</name></type> <name pos:start="63:17" pos:end="63:28">assignFlight</name><parameter_list pos:start="63:29" pos:end="63:61">(<parameter pos:start="63:30" pos:end="63:60"><decl pos:start="63:30" pos:end="63:60"><type pos:start="63:30" pos:end="63:44"><name pos:start="63:30" pos:end="63:44">IFlightDirector</name></type> <name pos:start="63:46" pos:end="63:60">flightDirective</name></decl></parameter>)</parameter_list> <block pos:start="63:63" pos:end="66:5">{<block_content pos:start="64:9" pos:end="65:26">
        <decl_stmt pos:start="64:9" pos:end="64:75"><decl pos:start="64:9" pos:end="64:74"><type pos:start="64:9" pos:end="64:27"><name pos:start="64:9" pos:end="64:27">AssignFlightMessage</name></type> <name pos:start="64:29" pos:end="64:31">msg</name> <init pos:start="64:33" pos:end="64:74">= <expr pos:start="64:35" pos:end="64:74"><operator pos:start="64:35" pos:end="64:37">new</operator> <call pos:start="64:39" pos:end="64:74"><name pos:start="64:39" pos:end="64:57">AssignFlightMessage</name><argument_list pos:start="64:58" pos:end="64:74">(<argument pos:start="64:59" pos:end="64:73"><expr pos:start="64:59" pos:end="64:73"><name pos:start="64:59" pos:end="64:73">flightDirective</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="65:9" pos:end="65:26"><expr pos:start="65:9" pos:end="65:25"><call pos:start="65:9" pos:end="65:25"><name pos:start="65:9" pos:end="65:20">offerMessage</name><argument_list pos:start="65:21" pos:end="65:25">(<argument pos:start="65:22" pos:end="65:24"><expr pos:start="65:22" pos:end="65:24"><name pos:start="65:22" pos:end="65:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="68:5" pos:end="70:7">/**
     * Removes an assigned flight
     */</comment>
    <function pos:start="71:5" pos:end="74:5"><type pos:start="71:5" pos:end="71:15"><specifier pos:start="71:5" pos:end="71:10">public</specifier> <name pos:start="71:12" pos:end="71:15">void</name></type> <name pos:start="71:17" pos:end="71:30">unassignFlight</name><parameter_list pos:start="71:31" pos:end="71:32">()</parameter_list> <block pos:start="71:34" pos:end="74:5">{<block_content pos:start="72:9" pos:end="73:26">
        <decl_stmt pos:start="72:9" pos:end="72:64"><decl pos:start="72:9" pos:end="72:63"><type pos:start="72:9" pos:end="72:29"><name pos:start="72:9" pos:end="72:29">UnassignFlightMessage</name></type> <name pos:start="72:31" pos:end="72:33">msg</name> <init pos:start="72:35" pos:end="72:63">= <expr pos:start="72:37" pos:end="72:63"><operator pos:start="72:37" pos:end="72:39">new</operator> <call pos:start="72:41" pos:end="72:63"><name pos:start="72:41" pos:end="72:61">UnassignFlightMessage</name><argument_list pos:start="72:62" pos:end="72:63">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="73:9" pos:end="73:26"><expr pos:start="73:9" pos:end="73:25"><call pos:start="73:9" pos:end="73:25"><name pos:start="73:9" pos:end="73:20">offerMessage</name><argument_list pos:start="73:21" pos:end="73:25">(<argument pos:start="73:22" pos:end="73:24"><expr pos:start="73:22" pos:end="73:24"><name pos:start="73:22" pos:end="73:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="76:5" pos:end="78:7">/**
     * Tell the drone to fly home
     */</comment>
    <function pos:start="79:5" pos:end="82:5"><type pos:start="79:5" pos:end="79:15"><specifier pos:start="79:5" pos:end="79:10">public</specifier> <name pos:start="79:12" pos:end="79:15">void</name></type> <name pos:start="79:17" pos:end="79:26">returnHome</name><parameter_list pos:start="79:27" pos:end="79:28">()</parameter_list> <block pos:start="79:30" pos:end="82:5">{<block_content pos:start="80:9" pos:end="81:26">
        <decl_stmt pos:start="80:9" pos:end="80:56"><decl pos:start="80:9" pos:end="80:55"><type pos:start="80:9" pos:end="80:25"><name pos:start="80:9" pos:end="80:25">ReturnHomeMessage</name></type> <name pos:start="80:27" pos:end="80:29">msg</name> <init pos:start="80:31" pos:end="80:55">= <expr pos:start="80:33" pos:end="80:55"><operator pos:start="80:33" pos:end="80:35">new</operator> <call pos:start="80:37" pos:end="80:55"><name pos:start="80:37" pos:end="80:53">ReturnHomeMessage</name><argument_list pos:start="80:54" pos:end="80:55">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="81:9" pos:end="81:26"><expr pos:start="81:9" pos:end="81:25"><call pos:start="81:9" pos:end="81:25"><name pos:start="81:9" pos:end="81:20">offerMessage</name><argument_list pos:start="81:21" pos:end="81:25">(<argument pos:start="81:22" pos:end="81:24"><expr pos:start="81:22" pos:end="81:24"><name pos:start="81:22" pos:end="81:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="84:5" pos:end="88:7">/**
     *
     * @param targetAltitude
     *          Sets target altitude for takeoff
     */</comment>
    <function pos:start="89:5" pos:end="92:5"><type pos:start="89:5" pos:end="89:15"><specifier pos:start="89:5" pos:end="89:10">public</specifier> <name pos:start="89:12" pos:end="89:15">void</name></type> <name pos:start="89:17" pos:end="89:33">setTargetAltitude</name><parameter_list pos:start="89:34" pos:end="89:56">(<parameter pos:start="89:35" pos:end="89:55"><decl pos:start="89:35" pos:end="89:55"><type pos:start="89:35" pos:end="89:40"><name pos:start="89:35" pos:end="89:40">double</name></type> <name pos:start="89:42" pos:end="89:55">targetAltitude</name></decl></parameter>)</parameter_list> <block pos:start="89:58" pos:end="92:5">{<block_content pos:start="90:9" pos:end="91:26">
        <decl_stmt pos:start="90:9" pos:end="90:84"><decl pos:start="90:9" pos:end="90:83"><type pos:start="90:9" pos:end="90:32"><name pos:start="90:9" pos:end="90:32">SetTargetAltitudeMessage</name></type> <name pos:start="90:34" pos:end="90:36">msg</name> <init pos:start="90:38" pos:end="90:83">= <expr pos:start="90:40" pos:end="90:83"><operator pos:start="90:40" pos:end="90:42">new</operator> <call pos:start="90:44" pos:end="90:83"><name pos:start="90:44" pos:end="90:67">SetTargetAltitudeMessage</name><argument_list pos:start="90:68" pos:end="90:83">(<argument pos:start="90:69" pos:end="90:82"><expr pos:start="90:69" pos:end="90:82"><name pos:start="90:69" pos:end="90:82">targetAltitude</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="91:9" pos:end="91:26"><expr pos:start="91:9" pos:end="91:25"><call pos:start="91:9" pos:end="91:25"><name pos:start="91:9" pos:end="91:20">offerMessage</name><argument_list pos:start="91:21" pos:end="91:25">(<argument pos:start="91:22" pos:end="91:24"><expr pos:start="91:22" pos:end="91:24"><name pos:start="91:22" pos:end="91:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="94:5" pos:end="96:7">/**
     * Tell the drone to takeoff
     */</comment>
    <function pos:start="97:5" pos:end="100:5"><type pos:start="97:5" pos:end="97:15"><specifier pos:start="97:5" pos:end="97:10">public</specifier> <name pos:start="97:12" pos:end="97:15">void</name></type> <name pos:start="97:17" pos:end="97:23">takeOff</name><parameter_list pos:start="97:24" pos:end="97:25">()</parameter_list> <block pos:start="97:27" pos:end="100:5">{<block_content pos:start="98:9" pos:end="99:26">
        <decl_stmt pos:start="98:9" pos:end="98:50"><decl pos:start="98:9" pos:end="98:49"><type pos:start="98:9" pos:end="98:22"><name pos:start="98:9" pos:end="98:22">TakeOffMessage</name></type> <name pos:start="98:24" pos:end="98:26">msg</name> <init pos:start="98:28" pos:end="98:49">= <expr pos:start="98:30" pos:end="98:49"><operator pos:start="98:30" pos:end="98:32">new</operator> <call pos:start="98:34" pos:end="98:49"><name pos:start="98:34" pos:end="98:47">TakeOffMessage</name><argument_list pos:start="98:48" pos:end="98:49">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="99:9" pos:end="99:26"><expr pos:start="99:9" pos:end="99:25"><call pos:start="99:9" pos:end="99:25"><name pos:start="99:9" pos:end="99:20">offerMessage</name><argument_list pos:start="99:21" pos:end="99:25">(<argument pos:start="99:22" pos:end="99:24"><expr pos:start="99:22" pos:end="99:24"><name pos:start="99:22" pos:end="99:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

<comment type="line" pos:start="102:1" pos:end="102:9">//    /**</comment>
<comment type="line" pos:start="103:1" pos:end="103:8">//     *</comment>
<comment type="line" pos:start="104:1" pos:end="104:35">//     * Get the drone's unique ID.</comment>
<comment type="line" pos:start="105:1" pos:end="105:13">//     *  &lt;p&gt;</comment>
<comment type="line" pos:start="106:1" pos:end="106:120">//     *     Note this sends a message and blocks while it waits to receive a return message from the managed drone with</comment>
<comment type="line" pos:start="107:1" pos:end="107:89">//     *     the return value. The time it takes for this method to run is indeterminate.</comment>
<comment type="line" pos:start="108:1" pos:end="108:13">//     * &lt;/p&gt;</comment>
<comment type="line" pos:start="109:1" pos:end="109:32">//     * @return unique drone ID</comment>
<comment type="line" pos:start="110:1" pos:end="110:9">//     */</comment>
<comment type="line" pos:start="111:1" pos:end="111:36">//    public String getDroneName() {</comment>
<comment type="line" pos:start="112:1" pos:end="112:52">//        GetNameMessage msg = new GetNameMessage();</comment>
<comment type="line" pos:start="113:1" pos:end="113:51">//        return returnService(msg, msg.returnBox);</comment>
<comment type="line" pos:start="114:1" pos:end="114:7">//    }</comment>

    <comment type="block" format="javadoc" pos:start="116:5" pos:end="119:7">/**
     * Tell the drone to land. The drone will touch down on the ground.
     *
     */</comment>
    <function pos:start="120:5" pos:end="123:5"><type pos:start="120:5" pos:end="120:15"><specifier pos:start="120:5" pos:end="120:10">public</specifier> <name pos:start="120:12" pos:end="120:15">void</name></type> <name pos:start="120:17" pos:end="120:20">land</name><parameter_list pos:start="120:21" pos:end="120:22">()</parameter_list> <block pos:start="120:24" pos:end="123:5">{<block_content pos:start="121:9" pos:end="122:26">
        <decl_stmt pos:start="121:9" pos:end="121:44"><decl pos:start="121:9" pos:end="121:43"><type pos:start="121:9" pos:end="121:19"><name pos:start="121:9" pos:end="121:19">LandMessage</name></type> <name pos:start="121:21" pos:end="121:23">msg</name> <init pos:start="121:25" pos:end="121:43">= <expr pos:start="121:27" pos:end="121:43"><operator pos:start="121:27" pos:end="121:29">new</operator> <call pos:start="121:31" pos:end="121:43"><name pos:start="121:31" pos:end="121:41">LandMessage</name><argument_list pos:start="121:42" pos:end="121:43">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="122:9" pos:end="122:26"><expr pos:start="122:9" pos:end="122:25"><call pos:start="122:9" pos:end="122:25"><name pos:start="122:9" pos:end="122:20">offerMessage</name><argument_list pos:start="122:21" pos:end="122:25">(<argument pos:start="122:22" pos:end="122:24"><expr pos:start="122:22" pos:end="122:24"><name pos:start="122:22" pos:end="122:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="125:5" pos:end="132:7">/**
     * Get the drone's base coordinates (its home location).
     *  &lt;p&gt;
     *     Note this sends a message and blocks while it waits to receive a return message from the managed drone with
     *     the return value. The time it takes for this method to run is indeterminate.
     * &lt;/p&gt;
     * @return the managed drone's base coordinates
     */</comment>
    <function pos:start="133:5" pos:end="136:5"><type pos:start="133:5" pos:end="133:24"><specifier pos:start="133:5" pos:end="133:10">public</specifier> <name pos:start="133:12" pos:end="133:24">LlaCoordinate</name></type> <name pos:start="133:26" pos:end="133:43">getBaseCoordinates</name><parameter_list pos:start="133:44" pos:end="133:45">()</parameter_list> <block pos:start="133:47" pos:end="136:5">{<block_content pos:start="134:9" pos:end="135:49">
        <decl_stmt pos:start="134:9" pos:end="134:64"><decl pos:start="134:9" pos:end="134:63"><type pos:start="134:9" pos:end="134:29"><name pos:start="134:9" pos:end="134:29">GetCoordinatesMessage</name></type> <name pos:start="134:31" pos:end="134:33">msg</name> <init pos:start="134:35" pos:end="134:63">= <expr pos:start="134:37" pos:end="134:63"><operator pos:start="134:37" pos:end="134:39">new</operator> <call pos:start="134:41" pos:end="134:63"><name pos:start="134:41" pos:end="134:61">GetCoordinatesMessage</name><argument_list pos:start="134:62" pos:end="134:63">()</argument_list></call></expr></init></decl>;</decl_stmt>
        <return pos:start="135:9" pos:end="135:49">return <expr pos:start="135:16" pos:end="135:48"><call pos:start="135:16" pos:end="135:48"><name pos:start="135:16" pos:end="135:28">returnService</name><argument_list pos:start="135:29" pos:end="135:48">(<argument pos:start="135:30" pos:end="135:32"><expr pos:start="135:30" pos:end="135:32"><name pos:start="135:30" pos:end="135:32">msg</name></expr></argument>, <argument pos:start="135:35" pos:end="135:47"><expr pos:start="135:35" pos:end="135:47"><name pos:start="135:35" pos:end="135:47"><name pos:start="135:35" pos:end="135:37">msg</name><operator pos:start="135:38" pos:end="135:38">.</operator><name pos:start="135:39" pos:end="135:47">returnBox</name></name></expr></argument>)</argument_list></call></expr>;</return>
    </block_content>}</block></function>

    <comment type="block" format="javadoc" pos:start="138:5" pos:end="141:7">/**
     * Update the ManagedDrones list of commands.
     * @param commands The commands this drone should carry out
     */</comment>
    <function pos:start="142:5" pos:end="145:5"><type pos:start="142:5" pos:end="142:15"><specifier pos:start="142:5" pos:end="142:10">public</specifier> <name pos:start="142:12" pos:end="142:15">void</name></type> <name pos:start="142:17" pos:end="142:30">updateGuidance</name><parameter_list pos:start="142:31" pos:end="142:54">(<parameter pos:start="142:32" pos:end="142:53"><decl pos:start="142:32" pos:end="142:53"><type pos:start="142:32" pos:end="142:44"><name pos:start="142:32" pos:end="142:44"><name pos:start="142:32" pos:end="142:35">List</name><argument_list type="generic" pos:start="142:36" pos:end="142:44">&lt;<argument pos:start="142:37" pos:end="142:43"><name pos:start="142:37" pos:end="142:43">Command</name></argument>&gt;</argument_list></name></type> <name pos:start="142:46" pos:end="142:53">commands</name></decl></parameter>)</parameter_list> <block pos:start="142:56" pos:end="145:5">{<block_content pos:start="143:9" pos:end="144:26">
        <decl_stmt pos:start="143:9" pos:end="143:72"><decl pos:start="143:9" pos:end="143:71"><type pos:start="143:9" pos:end="143:29"><name pos:start="143:9" pos:end="143:29">UpdateGuidanceMessage</name></type> <name pos:start="143:31" pos:end="143:33">msg</name> <init pos:start="143:35" pos:end="143:71">= <expr pos:start="143:37" pos:end="143:71"><operator pos:start="143:37" pos:end="143:39">new</operator> <call pos:start="143:41" pos:end="143:71"><name pos:start="143:41" pos:end="143:61">UpdateGuidanceMessage</name><argument_list pos:start="143:62" pos:end="143:71">(<argument pos:start="143:63" pos:end="143:70"><expr pos:start="143:63" pos:end="143:70"><name pos:start="143:63" pos:end="143:70">commands</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="144:9" pos:end="144:26"><expr pos:start="144:9" pos:end="144:25"><call pos:start="144:9" pos:end="144:25"><name pos:start="144:9" pos:end="144:20">offerMessage</name><argument_list pos:start="144:21" pos:end="144:25">(<argument pos:start="144:22" pos:end="144:24"><expr pos:start="144:22" pos:end="144:24"><name pos:start="144:22" pos:end="144:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <function pos:start="147:5" pos:end="150:5"><type pos:start="147:5" pos:end="147:15"><specifier pos:start="147:5" pos:end="147:10">public</specifier> <name pos:start="147:12" pos:end="147:15">void</name></type> <name pos:start="147:17" pos:end="147:27">getSnapshot</name><parameter_list pos:start="147:28" pos:end="147:80">(<parameter pos:start="147:29" pos:end="147:79"><decl pos:start="147:29" pos:end="147:79"><type pos:start="147:29" pos:end="147:67"><name pos:start="147:29" pos:end="147:67"><name pos:start="147:29" pos:end="147:46">ArrayBlockingQueue</name><argument_list type="generic" pos:start="147:47" pos:end="147:67">&lt;<argument pos:start="147:48" pos:end="147:66"><name pos:start="147:48" pos:end="147:66">DroneSnapshotOption</name></argument>&gt;</argument_list></name></type> <name pos:start="147:69" pos:end="147:79">returnQueue</name></decl></parameter>)</parameter_list> <block pos:start="147:82" pos:end="150:5">{<block_content pos:start="148:9" pos:end="149:26">
        <decl_stmt pos:start="148:9" pos:end="148:69"><decl pos:start="148:9" pos:end="148:68"><type pos:start="148:9" pos:end="148:26"><name pos:start="148:9" pos:end="148:26">GetSnapshotMessage</name></type> <name pos:start="148:28" pos:end="148:30">msg</name> <init pos:start="148:32" pos:end="148:68">= <expr pos:start="148:34" pos:end="148:68"><operator pos:start="148:34" pos:end="148:36">new</operator> <call pos:start="148:38" pos:end="148:68"><name pos:start="148:38" pos:end="148:55">GetSnapshotMessage</name><argument_list pos:start="148:56" pos:end="148:68">(<argument pos:start="148:57" pos:end="148:67"><expr pos:start="148:57" pos:end="148:67"><name pos:start="148:57" pos:end="148:67">returnQueue</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="149:9" pos:end="149:26"><expr pos:start="149:9" pos:end="149:25"><call pos:start="149:9" pos:end="149:25"><name pos:start="149:9" pos:end="149:20">offerMessage</name><argument_list pos:start="149:21" pos:end="149:25">(<argument pos:start="149:22" pos:end="149:24"><expr pos:start="149:22" pos:end="149:24"><name pos:start="149:22" pos:end="149:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>

    <function pos:start="152:5" pos:end="155:5"><type pos:start="152:5" pos:end="152:15"><specifier pos:start="152:5" pos:end="152:10">public</specifier> <name pos:start="152:12" pos:end="152:15">void</name></type> <name pos:start="152:17" pos:end="152:26">updateGoal</name><parameter_list pos:start="152:27" pos:end="152:45">(<parameter pos:start="152:28" pos:end="152:44"><decl pos:start="152:28" pos:end="152:44"><type pos:start="152:28" pos:end="152:39"><name pos:start="152:28" pos:end="152:39">AbstractGoal</name></type> <name pos:start="152:41" pos:end="152:44">goal</name></decl></parameter>)</parameter_list> <block pos:start="152:47" pos:end="155:5">{<block_content pos:start="153:9" pos:end="154:26">
        <decl_stmt pos:start="153:9" pos:end="153:60"><decl pos:start="153:9" pos:end="153:59"><type pos:start="153:9" pos:end="153:25"><name pos:start="153:9" pos:end="153:25">GoalUpdateMessage</name></type> <name pos:start="153:27" pos:end="153:29">msg</name> <init pos:start="153:31" pos:end="153:59">= <expr pos:start="153:33" pos:end="153:59"><operator pos:start="153:33" pos:end="153:35">new</operator> <call pos:start="153:37" pos:end="153:59"><name pos:start="153:37" pos:end="153:53">GoalUpdateMessage</name><argument_list pos:start="153:54" pos:end="153:59">(<argument pos:start="153:55" pos:end="153:58"><expr pos:start="153:55" pos:end="153:58"><name pos:start="153:55" pos:end="153:58">goal</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt pos:start="154:9" pos:end="154:26"><expr pos:start="154:9" pos:end="154:25"><call pos:start="154:9" pos:end="154:25"><name pos:start="154:9" pos:end="154:20">offerMessage</name><argument_list pos:start="154:21" pos:end="154:25">(<argument pos:start="154:22" pos:end="154:24"><expr pos:start="154:22" pos:end="154:24"><name pos:start="154:22" pos:end="154:24">msg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></function>
}</block></class>
</unit>
