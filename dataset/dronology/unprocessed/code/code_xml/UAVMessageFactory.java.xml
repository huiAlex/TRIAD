<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="Java" filename="src/UAVMessageFactory.java" pos:tabs="8"><package pos:start="1:1" pos:end="1:53">package <name pos:start="1:9" pos:end="1:52"><name pos:start="1:9" pos:end="1:11">edu</name><operator pos:start="1:12" pos:end="1:12">.</operator><name pos:start="1:13" pos:end="1:14">nd</name><operator pos:start="1:15" pos:end="1:15">.</operator><name pos:start="1:16" pos:end="1:24">dronology</name><operator pos:start="1:25" pos:end="1:25">.</operator><name pos:start="1:26" pos:end="1:33">gstation</name><operator pos:start="1:34" pos:end="1:34">.</operator><name pos:start="1:35" pos:end="1:43">connector</name><operator pos:start="1:44" pos:end="1:44">.</operator><name pos:start="1:45" pos:end="1:52">messages</name></name>;</package>

<import pos:start="3:1" pos:end="3:28">import <name pos:start="3:8" pos:end="3:27"><name pos:start="3:8" pos:end="3:11">java</name><operator pos:start="3:12" pos:end="3:12">.</operator><name pos:start="3:13" pos:end="3:16">text</name><operator pos:start="3:17" pos:end="3:17">.</operator><name pos:start="3:18" pos:end="3:27">DateFormat</name></name>;</import>
<import pos:start="4:1" pos:end="4:21">import <name pos:start="4:8" pos:end="4:20"><name pos:start="4:8" pos:end="4:11">java</name><operator pos:start="4:12" pos:end="4:12">.</operator><name pos:start="4:13" pos:end="4:16">util</name><operator pos:start="4:17" pos:end="4:17">.</operator><name pos:start="4:18" pos:end="4:20">Map</name></name>;</import>

<import pos:start="6:1" pos:end="6:43">import <name pos:start="6:8" pos:end="6:42"><name pos:start="6:8" pos:end="6:10">org</name><operator pos:start="6:11" pos:end="6:11">.</operator><name pos:start="6:12" pos:end="6:17">apache</name><operator pos:start="6:18" pos:end="6:18">.</operator><name pos:start="6:19" pos:end="6:25">commons</name><operator pos:start="6:26" pos:end="6:26">.</operator><name pos:start="6:27" pos:end="6:30">lang</name><operator pos:start="6:31" pos:end="6:31">.</operator><name pos:start="6:32" pos:end="6:42">StringUtils</name></name>;</import>
<import pos:start="7:1" pos:end="7:27">import <name pos:start="7:8" pos:end="7:26"><name pos:start="7:8" pos:end="7:10">org</name><operator pos:start="7:11" pos:end="7:11">.</operator><name pos:start="7:12" pos:end="7:15">json</name><operator pos:start="7:16" pos:end="7:16">.</operator><name pos:start="7:17" pos:end="7:26">JSONObject</name></name>;</import>

<import pos:start="9:1" pos:end="9:41">import <name pos:start="9:8" pos:end="9:40"><name pos:start="9:8" pos:end="9:10">com</name><operator pos:start="9:11" pos:end="9:11">.</operator><name pos:start="9:12" pos:end="9:17">google</name><operator pos:start="9:18" pos:end="9:18">.</operator><name pos:start="9:19" pos:end="9:22">gson</name><operator pos:start="9:23" pos:end="9:23">.</operator><name pos:start="9:24" pos:end="9:40">FieldNamingPolicy</name></name>;</import>
<import pos:start="10:1" pos:end="10:28">import <name pos:start="10:8" pos:end="10:27"><name pos:start="10:8" pos:end="10:10">com</name><operator pos:start="10:11" pos:end="10:11">.</operator><name pos:start="10:12" pos:end="10:17">google</name><operator pos:start="10:18" pos:end="10:18">.</operator><name pos:start="10:19" pos:end="10:22">gson</name><operator pos:start="10:23" pos:end="10:23">.</operator><name pos:start="10:24" pos:end="10:27">Gson</name></name>;</import>
<import pos:start="11:1" pos:end="11:35">import <name pos:start="11:8" pos:end="11:34"><name pos:start="11:8" pos:end="11:10">com</name><operator pos:start="11:11" pos:end="11:11">.</operator><name pos:start="11:12" pos:end="11:17">google</name><operator pos:start="11:18" pos:end="11:18">.</operator><name pos:start="11:19" pos:end="11:22">gson</name><operator pos:start="11:23" pos:end="11:23">.</operator><name pos:start="11:24" pos:end="11:34">GsonBuilder</name></name>;</import>

<import pos:start="13:1" pos:end="13:66">import <name pos:start="13:8" pos:end="13:65"><name pos:start="13:8" pos:end="13:10">edu</name><operator pos:start="13:11" pos:end="13:11">.</operator><name pos:start="13:12" pos:end="13:13">nd</name><operator pos:start="13:14" pos:end="13:14">.</operator><name pos:start="13:15" pos:end="13:23">dronology</name><operator pos:start="13:24" pos:end="13:24">.</operator><name pos:start="13:25" pos:end="13:32">gstation</name><operator pos:start="13:33" pos:end="13:33">.</operator><name pos:start="13:34" pos:end="13:42">connector</name><operator pos:start="13:43" pos:end="13:43">.</operator><name pos:start="13:44" pos:end="13:65">GroundStationException</name></name>;</import>

<comment type="block" format="javadoc" pos:start="15:1" pos:end="21:3">/**
 * 
 * Factory class for creating {@link AbstractUAVMessage} from JSON strings.
 * 
 * @author Michael Vierhauser  
 *
 */</comment>
<class pos:start="22:1" pos:end="83:1"><specifier pos:start="22:1" pos:end="22:6">public</specifier> class <name pos:start="22:14" pos:end="22:30">UAVMessageFactory</name> <block pos:start="22:32" pos:end="83:1">{

	<decl_stmt pos:start="24:9" pos:end="24:58"><decl pos:start="24:9" pos:end="24:57"><type pos:start="24:9" pos:end="24:35"><specifier pos:start="24:9" pos:end="24:15">private</specifier> <specifier pos:start="24:17" pos:end="24:22">static</specifier> <specifier pos:start="24:24" pos:end="24:28">final</specifier> <name pos:start="24:30" pos:end="24:35">String</name></type> <name pos:start="24:37" pos:end="24:48">MESSAGE_TYPE</name> <init pos:start="24:50" pos:end="24:57">= <expr pos:start="24:52" pos:end="24:57"><literal type="string" pos:start="24:52" pos:end="24:57">"type"</literal></expr></init></decl>;</decl_stmt>

	<decl_stmt pos:start="26:9" pos:end="29:118"><decl pos:start="26:9" pos:end="29:117"><type pos:start="26:9" pos:end="26:42"><specifier pos:start="26:9" pos:end="26:14">public</specifier> <specifier pos:start="26:16" pos:end="26:21">static</specifier> <specifier pos:start="26:23" pos:end="26:27">final</specifier> <specifier pos:start="26:29" pos:end="26:37">transient</specifier> <name pos:start="26:39" pos:end="26:42">Gson</name></type> <name pos:start="26:44" pos:end="26:47">GSON</name> <init pos:start="26:49" pos:end="29:117">= <expr pos:start="26:51" pos:end="29:117"><operator pos:start="26:51" pos:end="26:53">new</operator> <call pos:start="26:55" pos:end="26:67"><name pos:start="26:55" pos:end="26:65">GsonBuilder</name><argument_list pos:start="26:66" pos:end="26:67">()</argument_list></call><operator pos:start="26:68" pos:end="26:68">.</operator><call pos:start="26:69" pos:end="26:102"><name pos:start="26:69" pos:end="26:100">enableComplexMapKeySerialization</name><argument_list pos:start="26:101" pos:end="26:102">()</argument_list></call><operator pos:start="26:103" pos:end="26:103">.</operator><call pos:start="26:104" pos:end="26:119"><name pos:start="26:104" pos:end="26:117">serializeNulls</name><argument_list pos:start="26:118" pos:end="26:119">()</argument_list></call>
			<operator pos:start="27:25" pos:end="27:25">.</operator><call pos:start="27:26" pos:end="27:55"><name pos:start="27:26" pos:end="27:38">setDateFormat</name><argument_list pos:start="27:39" pos:end="27:55">(<argument pos:start="27:40" pos:end="27:54"><expr pos:start="27:40" pos:end="27:54"><name pos:start="27:40" pos:end="27:54"><name pos:start="27:40" pos:end="27:49">DateFormat</name><operator pos:start="27:50" pos:end="27:50">.</operator><name pos:start="27:51" pos:end="27:54">LONG</name></name></expr></argument>)</argument_list></call><operator pos:start="27:56" pos:end="27:56">.</operator><call pos:start="27:57" pos:end="27:118"><name pos:start="27:57" pos:end="27:76">setFieldNamingPolicy</name><argument_list pos:start="27:77" pos:end="27:118">(<argument pos:start="27:78" pos:end="27:117"><expr pos:start="27:78" pos:end="27:117"><name pos:start="27:78" pos:end="27:117"><name pos:start="27:78" pos:end="27:94">FieldNamingPolicy</name><operator pos:start="27:95" pos:end="27:95">.</operator><name pos:start="27:96" pos:end="27:117">LOWER_CASE_WITH_DASHES</name></name></expr></argument>)</argument_list></call><operator pos:start="27:119" pos:end="27:119">.</operator><call pos:start="27:120" pos:end="27:134"><name pos:start="27:120" pos:end="27:129">setVersion</name><argument_list pos:start="27:130" pos:end="27:134">(<argument pos:start="27:131" pos:end="27:133"><expr pos:start="27:131" pos:end="27:133"><literal type="number" pos:start="27:131" pos:end="27:133">1.0</literal></expr></argument>)</argument_list></call>
			<operator pos:start="28:25" pos:end="28:25">.</operator><call pos:start="28:26" pos:end="28:62"><name pos:start="28:26" pos:end="28:60">serializeSpecialFloatingPointValues</name><argument_list pos:start="28:61" pos:end="28:62">()</argument_list></call><operator pos:start="28:63" pos:end="28:63">.</operator><call pos:start="28:64" pos:end="28:100"><name pos:start="28:64" pos:end="28:98">serializeSpecialFloatingPointValues</name><argument_list pos:start="28:99" pos:end="28:100">()</argument_list></call>
			<operator pos:start="29:25" pos:end="29:25">.</operator><call pos:start="29:26" pos:end="29:108"><name pos:start="29:26" pos:end="29:44">registerTypeAdapter</name><argument_list pos:start="29:45" pos:end="29:108">(<argument pos:start="29:46" pos:end="29:71"><expr pos:start="29:46" pos:end="29:71"><name pos:start="29:46" pos:end="29:71"><name pos:start="29:46" pos:end="29:65">UAVModeChangeMessage</name><operator pos:start="29:66" pos:end="29:66">.</operator><name pos:start="29:67" pos:end="29:71">class</name></name></expr></argument>, <argument pos:start="29:74" pos:end="29:107"><expr pos:start="29:74" pos:end="29:107"><operator pos:start="29:74" pos:end="29:76">new</operator> <call pos:start="29:78" pos:end="29:107"><name pos:start="29:78" pos:end="29:105">ModeChangeMessageTypeAdapter</name><argument_list pos:start="29:106" pos:end="29:107">()</argument_list></call></expr></argument>)</argument_list></call><operator pos:start="29:109" pos:end="29:109">.</operator><call pos:start="29:110" pos:end="29:117"><name pos:start="29:110" pos:end="29:115">create</name><argument_list pos:start="29:116" pos:end="29:117">()</argument_list></call></expr></init></decl>;</decl_stmt>

	<decl_stmt pos:start="31:9" pos:end="35:34"><decl pos:start="31:9" pos:end="35:33"><type pos:start="31:9" pos:end="31:25"><specifier pos:start="31:9" pos:end="31:14">static</specifier> <specifier pos:start="31:16" pos:end="31:20">final</specifier> <name pos:start="31:22" pos:end="31:25">Gson</name></type> <name pos:start="31:27" pos:end="31:35">TYPE_GSON</name> <init pos:start="31:37" pos:end="35:33">= <expr pos:start="31:39" pos:end="35:33"><operator pos:start="31:39" pos:end="31:41">new</operator> <call pos:start="31:43" pos:end="31:55"><name pos:start="31:43" pos:end="31:53">GsonBuilder</name><argument_list pos:start="31:54" pos:end="31:55">()</argument_list></call><operator pos:start="31:56" pos:end="31:56">.</operator><call pos:start="31:57" pos:end="31:72"><name pos:start="31:57" pos:end="31:70">serializeNulls</name><argument_list pos:start="31:71" pos:end="31:72">()</argument_list></call><operator pos:start="31:73" pos:end="31:73">.</operator><call pos:start="31:74" pos:end="31:103"><name pos:start="31:74" pos:end="31:86">setDateFormat</name><argument_list pos:start="31:87" pos:end="31:103">(<argument pos:start="31:88" pos:end="31:102"><expr pos:start="31:88" pos:end="31:102"><name pos:start="31:88" pos:end="31:102"><name pos:start="31:88" pos:end="31:97">DateFormat</name><operator pos:start="31:98" pos:end="31:98">.</operator><name pos:start="31:99" pos:end="31:102">LONG</name></name></expr></argument>)</argument_list></call>
			<operator pos:start="32:25" pos:end="32:25">.</operator><call pos:start="32:26" pos:end="32:87"><name pos:start="32:26" pos:end="32:45">setFieldNamingPolicy</name><argument_list pos:start="32:46" pos:end="32:87">(<argument pos:start="32:47" pos:end="32:86"><expr pos:start="32:47" pos:end="32:86"><name pos:start="32:47" pos:end="32:86"><name pos:start="32:47" pos:end="32:63">FieldNamingPolicy</name><operator pos:start="32:64" pos:end="32:64">.</operator><name pos:start="32:65" pos:end="32:86">LOWER_CASE_WITH_DASHES</name></name></expr></argument>)</argument_list></call><operator pos:start="32:88" pos:end="32:88">.</operator><call pos:start="32:89" pos:end="32:103"><name pos:start="32:89" pos:end="32:98">setVersion</name><argument_list pos:start="32:99" pos:end="32:103">(<argument pos:start="32:100" pos:end="32:102"><expr pos:start="32:100" pos:end="32:102"><literal type="number" pos:start="32:100" pos:end="32:102">1.0</literal></expr></argument>)</argument_list></call>
			<operator pos:start="33:25" pos:end="33:25">.</operator><call pos:start="33:26" pos:end="33:62"><name pos:start="33:26" pos:end="33:60">serializeSpecialFloatingPointValues</name><argument_list pos:start="33:61" pos:end="33:62">()</argument_list></call><operator pos:start="33:63" pos:end="33:63">.</operator><call pos:start="33:64" pos:end="33:124"><name pos:start="33:64" pos:end="33:82">registerTypeAdapter</name><argument_list pos:start="33:83" pos:end="33:124">(<argument pos:start="33:84" pos:end="33:92"><expr pos:start="33:84" pos:end="33:92"><name pos:start="33:84" pos:end="33:92"><name pos:start="33:84" pos:end="33:86">Map</name><operator pos:start="33:87" pos:end="33:87">.</operator><name pos:start="33:88" pos:end="33:92">class</name></name></expr></argument>, <argument pos:start="33:95" pos:end="33:123"><expr pos:start="33:95" pos:end="33:123"><operator pos:start="33:95" pos:end="33:97">new</operator> <call pos:start="33:99" pos:end="33:123"><name pos:start="33:99" pos:end="33:121">StateMessageTypeAdapter</name><argument_list pos:start="33:122" pos:end="33:123">()</argument_list></call></expr></argument>)</argument_list></call>

			<operator pos:start="35:25" pos:end="35:25">.</operator><call pos:start="35:26" pos:end="35:33"><name pos:start="35:26" pos:end="35:31">create</name><argument_list pos:start="35:32" pos:end="35:33">()</argument_list></call></expr></init></decl>;</decl_stmt>

	<function pos:start="37:9" pos:end="77:9"><type pos:start="37:9" pos:end="37:43"><specifier pos:start="37:9" pos:end="37:14">public</specifier> <specifier pos:start="37:16" pos:end="37:21">static</specifier> <name pos:start="37:23" pos:end="37:43"><name pos:start="37:23" pos:end="37:40">AbstractUAVMessage</name><argument_list type="generic" pos:start="37:41" pos:end="37:43">&lt;<argument pos:start="37:42" pos:end="37:42"><name pos:start="37:42" pos:end="37:42">?</name></argument>&gt;</argument_list></name></type> <name pos:start="37:45" pos:end="37:50">create</name><parameter_list pos:start="37:51" pos:end="37:72">(<parameter pos:start="37:52" pos:end="37:71"><decl pos:start="37:52" pos:end="37:71"><type pos:start="37:52" pos:end="37:57"><name pos:start="37:52" pos:end="37:57">String</name></type> <name pos:start="37:59" pos:end="37:71">messagestring</name></decl></parameter>)</parameter_list> <throws pos:start="37:74" pos:end="37:89">throws <argument pos:start="37:81" pos:end="37:89"><expr pos:start="37:81" pos:end="37:89"><name pos:start="37:81" pos:end="37:89">Exception</name></expr></argument></throws> <block pos:start="37:91" pos:end="77:9">{<block_content pos:start="39:17" pos:end="76:17">

		<decl_stmt pos:start="39:17" pos:end="39:73"><decl pos:start="39:17" pos:end="39:72"><type pos:start="39:17" pos:end="39:26"><name pos:start="39:17" pos:end="39:26">JSONObject</name></type> <name pos:start="39:28" pos:end="39:40">messageObject</name> <init pos:start="39:42" pos:end="39:72">= <expr pos:start="39:44" pos:end="39:72"><operator pos:start="39:44" pos:end="39:46">new</operator> <call pos:start="39:48" pos:end="39:72"><name pos:start="39:48" pos:end="39:57">JSONObject</name><argument_list pos:start="39:58" pos:end="39:72">(<argument pos:start="39:59" pos:end="39:71"><expr pos:start="39:59" pos:end="39:71"><name pos:start="39:59" pos:end="39:71">messagestring</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
		<decl_stmt pos:start="40:17" pos:end="40:75"><decl pos:start="40:17" pos:end="40:74"><type pos:start="40:17" pos:end="40:22"><name pos:start="40:17" pos:end="40:22">String</name></type> <name pos:start="40:24" pos:end="40:34">messagetype</name> <init pos:start="40:36" pos:end="40:74">= <expr pos:start="40:38" pos:end="40:74"><call pos:start="40:38" pos:end="40:74"><name pos:start="40:38" pos:end="40:60"><name pos:start="40:38" pos:end="40:50">messageObject</name><operator pos:start="40:51" pos:end="40:51">.</operator><name pos:start="40:52" pos:end="40:60">optString</name></name><argument_list pos:start="40:61" pos:end="40:74">(<argument pos:start="40:62" pos:end="40:73"><expr pos:start="40:62" pos:end="40:73"><name pos:start="40:62" pos:end="40:73">MESSAGE_TYPE</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

		<if_stmt pos:start="42:17" pos:end="44:17"><if pos:start="42:17" pos:end="44:17">if <condition pos:start="42:20" pos:end="42:76">(<expr pos:start="42:21" pos:end="42:75"><name pos:start="42:21" pos:end="42:31">messagetype</name> <operator pos:start="42:33" pos:end="42:34">==</operator> <literal type="null" pos:start="42:36" pos:end="42:39">null</literal> <operator pos:start="42:41" pos:end="42:42">||</operator> <call pos:start="42:44" pos:end="42:75"><name pos:start="42:44" pos:end="42:62"><name pos:start="42:44" pos:end="42:54">StringUtils</name><operator pos:start="42:55" pos:end="42:55">.</operator><name pos:start="42:56" pos:end="42:62">isEmpty</name></name><argument_list pos:start="42:63" pos:end="42:75">(<argument pos:start="42:64" pos:end="42:74"><expr pos:start="42:64" pos:end="42:74"><name pos:start="42:64" pos:end="42:74">messagetype</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="42:78" pos:end="44:17">{<block_content pos:start="43:25" pos:end="43:103">
			<throw pos:start="43:25" pos:end="43:103">throw <expr pos:start="43:31" pos:end="43:102"><operator pos:start="43:31" pos:end="43:33">new</operator> <call pos:start="43:35" pos:end="43:102"><name pos:start="43:35" pos:end="43:56">GroundStationException</name><argument_list pos:start="43:57" pos:end="43:102">(<argument pos:start="43:58" pos:end="43:101"><expr pos:start="43:58" pos:end="43:101"><literal type="string" pos:start="43:58" pos:end="43:101">"Message Type of received message was null!"</literal></expr></argument>)</argument_list></call></expr>;</throw>
		</block_content>}</block></if></if_stmt>
		<decl_stmt pos:start="45:17" pos:end="45:53"><decl pos:start="45:17" pos:end="45:52"><type pos:start="45:17" pos:end="45:37"><name pos:start="45:17" pos:end="45:37"><name pos:start="45:17" pos:end="45:34">AbstractUAVMessage</name><argument_list type="generic" pos:start="45:35" pos:end="45:37">&lt;<argument pos:start="45:36" pos:end="45:36"><name pos:start="45:36" pos:end="45:36">?</name></argument>&gt;</argument_list></name></type> <name pos:start="45:39" pos:end="45:45">message</name> <init pos:start="45:47" pos:end="45:52">= <expr pos:start="45:49" pos:end="45:52"><literal type="null" pos:start="45:49" pos:end="45:52">null</literal></expr></init></decl>;</decl_stmt>
		<switch pos:start="46:17" pos:end="76:17">switch <condition pos:start="46:24" pos:end="46:36">(<expr pos:start="46:25" pos:end="46:35"><name pos:start="46:25" pos:end="46:35">messagetype</name></expr>)</condition> <block pos:start="46:38" pos:end="76:17">{<block_content pos:start="47:25" pos:end="75:112">
			<case pos:start="47:25" pos:end="47:58">case <expr pos:start="47:30" pos:end="47:57"><name pos:start="47:30" pos:end="47:57"><name pos:start="47:30" pos:end="47:44">UAVStateMessage</name><operator pos:start="47:45" pos:end="47:45">.</operator><name pos:start="47:46" pos:end="47:57">MESSAGE_TYPE</name></name></expr>:</case> <block pos:start="47:60" pos:end="51:25">{<block_content pos:start="48:33" pos:end="50:47">
				<expr_stmt pos:start="48:33" pos:end="48:99"><expr pos:start="48:33" pos:end="48:98"><name pos:start="48:33" pos:end="48:39">message</name> <operator pos:start="48:41" pos:end="48:41">=</operator> <call pos:start="48:43" pos:end="48:98"><name pos:start="48:43" pos:end="48:60"><name pos:start="48:43" pos:end="48:51">TYPE_GSON</name><operator pos:start="48:52" pos:end="48:52">.</operator><name pos:start="48:53" pos:end="48:60">fromJson</name></name><argument_list pos:start="48:61" pos:end="48:98">(<argument pos:start="48:62" pos:end="48:74"><expr pos:start="48:62" pos:end="48:74"><name pos:start="48:62" pos:end="48:74">messagestring</name></expr></argument>, <argument pos:start="48:77" pos:end="48:97"><expr pos:start="48:77" pos:end="48:97"><name pos:start="48:77" pos:end="48:97"><name pos:start="48:77" pos:end="48:91">UAVStateMessage</name><operator pos:start="48:92" pos:end="48:92">.</operator><name pos:start="48:93" pos:end="48:97">class</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
				<expr_stmt pos:start="49:33" pos:end="49:52"><expr pos:start="49:33" pos:end="49:51"><call pos:start="49:33" pos:end="49:51"><name pos:start="49:33" pos:end="49:49"><name pos:start="49:33" pos:end="49:39">message</name><operator pos:start="49:40" pos:end="49:40">.</operator><name pos:start="49:41" pos:end="49:49">timestamp</name></name><argument_list pos:start="49:50" pos:end="49:51">()</argument_list></call></expr>;</expr_stmt>
				<return pos:start="50:33" pos:end="50:47">return <expr pos:start="50:40" pos:end="50:46"><name pos:start="50:40" pos:end="50:46">message</name></expr>;</return>
			</block_content>}</block>

			<case pos:start="53:25" pos:end="53:62">case <expr pos:start="53:30" pos:end="53:61"><name pos:start="53:30" pos:end="53:61"><name pos:start="53:30" pos:end="53:48">UAVHandshakeMessage</name><operator pos:start="53:49" pos:end="53:49">.</operator><name pos:start="53:50" pos:end="53:61">MESSAGE_TYPE</name></name></expr>:</case> <block pos:start="53:64" pos:end="57:25">{<block_content pos:start="54:33" pos:end="56:47">
				<expr_stmt pos:start="54:33" pos:end="54:98"><expr pos:start="54:33" pos:end="54:97"><name pos:start="54:33" pos:end="54:39">message</name> <operator pos:start="54:41" pos:end="54:41">=</operator> <call pos:start="54:43" pos:end="54:97"><name pos:start="54:43" pos:end="54:55"><name pos:start="54:43" pos:end="54:46">GSON</name><operator pos:start="54:47" pos:end="54:47">.</operator><name pos:start="54:48" pos:end="54:55">fromJson</name></name><argument_list pos:start="54:56" pos:end="54:97">(<argument pos:start="54:57" pos:end="54:69"><expr pos:start="54:57" pos:end="54:69"><name pos:start="54:57" pos:end="54:69">messagestring</name></expr></argument>, <argument pos:start="54:72" pos:end="54:96"><expr pos:start="54:72" pos:end="54:96"><name pos:start="54:72" pos:end="54:96"><name pos:start="54:72" pos:end="54:90">UAVHandshakeMessage</name><operator pos:start="54:91" pos:end="54:91">.</operator><name pos:start="54:92" pos:end="54:96">class</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
				<expr_stmt pos:start="55:33" pos:end="55:52"><expr pos:start="55:33" pos:end="55:51"><call pos:start="55:33" pos:end="55:51"><name pos:start="55:33" pos:end="55:49"><name pos:start="55:33" pos:end="55:39">message</name><operator pos:start="55:40" pos:end="55:40">.</operator><name pos:start="55:41" pos:end="55:49">timestamp</name></name><argument_list pos:start="55:50" pos:end="55:51">()</argument_list></call></expr>;</expr_stmt>
				<return pos:start="56:33" pos:end="56:47">return <expr pos:start="56:40" pos:end="56:46"><name pos:start="56:40" pos:end="56:46">message</name></expr>;</return>
			</block_content>}</block>
			<case pos:start="58:25" pos:end="58:63">case <expr pos:start="58:30" pos:end="58:62"><name pos:start="58:30" pos:end="58:62"><name pos:start="58:30" pos:end="58:49">UAVMonitoringMessage</name><operator pos:start="58:50" pos:end="58:50">.</operator><name pos:start="58:51" pos:end="58:62">MESSAGE_TYPE</name></name></expr>:</case> <block pos:start="58:65" pos:end="62:25">{<block_content pos:start="59:33" pos:end="61:47">
				<expr_stmt pos:start="59:33" pos:end="59:99"><expr pos:start="59:33" pos:end="59:98"><name pos:start="59:33" pos:end="59:39">message</name> <operator pos:start="59:41" pos:end="59:41">=</operator> <call pos:start="59:43" pos:end="59:98"><name pos:start="59:43" pos:end="59:55"><name pos:start="59:43" pos:end="59:46">GSON</name><operator pos:start="59:47" pos:end="59:47">.</operator><name pos:start="59:48" pos:end="59:55">fromJson</name></name><argument_list pos:start="59:56" pos:end="59:98">(<argument pos:start="59:57" pos:end="59:69"><expr pos:start="59:57" pos:end="59:69"><name pos:start="59:57" pos:end="59:69">messagestring</name></expr></argument>, <argument pos:start="59:72" pos:end="59:97"><expr pos:start="59:72" pos:end="59:97"><name pos:start="59:72" pos:end="59:97"><name pos:start="59:72" pos:end="59:91">UAVMonitoringMessage</name><operator pos:start="59:92" pos:end="59:92">.</operator><name pos:start="59:93" pos:end="59:97">class</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
				<expr_stmt pos:start="60:33" pos:end="60:52"><expr pos:start="60:33" pos:end="60:51"><call pos:start="60:33" pos:end="60:51"><name pos:start="60:33" pos:end="60:49"><name pos:start="60:33" pos:end="60:39">message</name><operator pos:start="60:40" pos:end="60:40">.</operator><name pos:start="60:41" pos:end="60:49">timestamp</name></name><argument_list pos:start="60:50" pos:end="60:51">()</argument_list></call></expr>;</expr_stmt>
				<return pos:start="61:33" pos:end="61:47">return <expr pos:start="61:40" pos:end="61:46"><name pos:start="61:40" pos:end="61:46">message</name></expr>;</return>
			</block_content>}</block>
			<case pos:start="63:25" pos:end="63:67">case <expr pos:start="63:30" pos:end="63:66"><name pos:start="63:30" pos:end="63:66"><name pos:start="63:30" pos:end="63:53">ConnectionRequestMessage</name><operator pos:start="63:54" pos:end="63:54">.</operator><name pos:start="63:55" pos:end="63:66">MESSAGE_TYPE</name></name></expr>:</case> <block pos:start="63:69" pos:end="67:25">{<block_content pos:start="64:33" pos:end="66:47">
				<expr_stmt pos:start="64:33" pos:end="64:103"><expr pos:start="64:33" pos:end="64:102"><name pos:start="64:33" pos:end="64:39">message</name> <operator pos:start="64:41" pos:end="64:41">=</operator> <call pos:start="64:43" pos:end="64:102"><name pos:start="64:43" pos:end="64:55"><name pos:start="64:43" pos:end="64:46">GSON</name><operator pos:start="64:47" pos:end="64:47">.</operator><name pos:start="64:48" pos:end="64:55">fromJson</name></name><argument_list pos:start="64:56" pos:end="64:102">(<argument pos:start="64:57" pos:end="64:69"><expr pos:start="64:57" pos:end="64:69"><name pos:start="64:57" pos:end="64:69">messagestring</name></expr></argument>, <argument pos:start="64:72" pos:end="64:101"><expr pos:start="64:72" pos:end="64:101"><name pos:start="64:72" pos:end="64:101"><name pos:start="64:72" pos:end="64:95">ConnectionRequestMessage</name><operator pos:start="64:96" pos:end="64:96">.</operator><name pos:start="64:97" pos:end="64:101">class</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
				<expr_stmt pos:start="65:33" pos:end="65:52"><expr pos:start="65:33" pos:end="65:51"><call pos:start="65:33" pos:end="65:51"><name pos:start="65:33" pos:end="65:49"><name pos:start="65:33" pos:end="65:39">message</name><operator pos:start="65:40" pos:end="65:40">.</operator><name pos:start="65:41" pos:end="65:49">timestamp</name></name><argument_list pos:start="65:50" pos:end="65:51">()</argument_list></call></expr>;</expr_stmt>
				<return pos:start="66:33" pos:end="66:47">return <expr pos:start="66:40" pos:end="66:46"><name pos:start="66:40" pos:end="66:46">message</name></expr>;</return>
			</block_content>}</block>
			<case pos:start="68:25" pos:end="68:63">case <expr pos:start="68:30" pos:end="68:62"><name pos:start="68:30" pos:end="68:62"><name pos:start="68:30" pos:end="68:49">UAVModeChangeMessage</name><operator pos:start="68:50" pos:end="68:50">.</operator><name pos:start="68:51" pos:end="68:62">MESSAGE_TYPE</name></name></expr>:</case> <block pos:start="68:65" pos:end="72:25">{<block_content pos:start="69:33" pos:end="71:47">
				<expr_stmt pos:start="69:33" pos:end="69:99"><expr pos:start="69:33" pos:end="69:98"><name pos:start="69:33" pos:end="69:39">message</name> <operator pos:start="69:41" pos:end="69:41">=</operator> <call pos:start="69:43" pos:end="69:98"><name pos:start="69:43" pos:end="69:55"><name pos:start="69:43" pos:end="69:46">GSON</name><operator pos:start="69:47" pos:end="69:47">.</operator><name pos:start="69:48" pos:end="69:55">fromJson</name></name><argument_list pos:start="69:56" pos:end="69:98">(<argument pos:start="69:57" pos:end="69:69"><expr pos:start="69:57" pos:end="69:69"><name pos:start="69:57" pos:end="69:69">messagestring</name></expr></argument>, <argument pos:start="69:72" pos:end="69:97"><expr pos:start="69:72" pos:end="69:97"><name pos:start="69:72" pos:end="69:97"><name pos:start="69:72" pos:end="69:91">UAVModeChangeMessage</name><operator pos:start="69:92" pos:end="69:92">.</operator><name pos:start="69:93" pos:end="69:97">class</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
				<expr_stmt pos:start="70:33" pos:end="70:52"><expr pos:start="70:33" pos:end="70:51"><call pos:start="70:33" pos:end="70:51"><name pos:start="70:33" pos:end="70:49"><name pos:start="70:33" pos:end="70:39">message</name><operator pos:start="70:40" pos:end="70:40">.</operator><name pos:start="70:41" pos:end="70:49">timestamp</name></name><argument_list pos:start="70:50" pos:end="70:51">()</argument_list></call></expr>;</expr_stmt>
				<return pos:start="71:33" pos:end="71:47">return <expr pos:start="71:40" pos:end="71:46"><name pos:start="71:40" pos:end="71:46">message</name></expr>;</return>
			</block_content>}</block>

			<default pos:start="74:25" pos:end="74:32">default:</default>
				<throw pos:start="75:33" pos:end="75:112">throw <expr pos:start="75:39" pos:end="75:111"><operator pos:start="75:39" pos:end="75:41">new</operator> <call pos:start="75:43" pos:end="75:111"><name pos:start="75:43" pos:end="75:64">GroundStationException</name><argument_list pos:start="75:65" pos:end="75:111">(<argument pos:start="75:66" pos:end="75:110"><expr pos:start="75:66" pos:end="75:110"><literal type="string" pos:start="75:66" pos:end="75:90">"Unknown Message Type! '"</literal> <operator pos:start="75:92" pos:end="75:92">+</operator> <name pos:start="75:94" pos:end="75:104">messagetype</name> <operator pos:start="75:106" pos:end="75:106">+</operator> <literal type="string" pos:start="75:108" pos:end="75:110">"'"</literal></expr></argument>)</argument_list></call></expr>;</throw>
		</block_content>}</block></switch>
	</block_content>}</block></function>

	<function pos:start="79:9" pos:end="81:9"><type pos:start="79:9" pos:end="79:28"><specifier pos:start="79:9" pos:end="79:14">public</specifier> <specifier pos:start="79:16" pos:end="79:21">static</specifier> <name pos:start="79:23" pos:end="79:28">String</name></type> <name pos:start="79:30" pos:end="79:35">toJson</name><parameter_list pos:start="79:36" pos:end="79:66">(<parameter pos:start="79:37" pos:end="79:65"><decl pos:start="79:37" pos:end="79:65"><type pos:start="79:37" pos:end="79:57"><name pos:start="79:37" pos:end="79:57"><name pos:start="79:37" pos:end="79:54">AbstractUAVMessage</name><argument_list type="generic" pos:start="79:55" pos:end="79:57">&lt;<argument pos:start="79:56" pos:end="79:56"><name pos:start="79:56" pos:end="79:56">?</name></argument>&gt;</argument_list></name></type> <name pos:start="79:59" pos:end="79:65">message</name></decl></parameter>)</parameter_list> <block pos:start="79:68" pos:end="81:9">{<block_content pos:start="80:17" pos:end="80:44">
		<return pos:start="80:17" pos:end="80:44">return <expr pos:start="80:24" pos:end="80:43"><call pos:start="80:24" pos:end="80:43"><name pos:start="80:24" pos:end="80:34"><name pos:start="80:24" pos:end="80:27">GSON</name><operator pos:start="80:28" pos:end="80:28">.</operator><name pos:start="80:29" pos:end="80:34">toJson</name></name><argument_list pos:start="80:35" pos:end="80:43">(<argument pos:start="80:36" pos:end="80:42"><expr pos:start="80:36" pos:end="80:42"><name pos:start="80:36" pos:end="80:42">message</name></expr></argument>)</argument_list></call></expr>;</return>
	</block_content>}</block></function>

}</block></class>
</unit>
